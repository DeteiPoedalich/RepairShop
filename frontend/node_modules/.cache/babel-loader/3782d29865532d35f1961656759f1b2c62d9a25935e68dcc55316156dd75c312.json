{"ast":null,"code":"var _jsxFileName = \"F:\\\\repair_shop\\\\frontend\\\\src\\\\pages\\\\NewOrder.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Container, Paper, TextField, Button, Typography, Box, Grid, FormControl, InputLabel, Select, MenuItem, Alert, CircularProgress, Card, CardContent, Chip, IconButton } from '@mui/material';\nimport { Add as AddIcon, Save as SaveIcon, Clear as ClearIcon } from '@mui/icons-material';\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport { orderService, clientService, deviceService, serviceService } from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst NewOrder = () => {\n  _s();\n  var _fromRequest$Client;\n  const navigate = useNavigate();\n  const location = useLocation();\n  const [loading, setLoading] = useState(false);\n  const [submitting, setSubmitting] = useState(false);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n\n  // Данные для форм\n  const [clients, setClients] = useState([]);\n  const [devices, setDevices] = useState([]);\n  const [services, setServices] = useState([]);\n  const [deviceTypes, setDeviceTypes] = useState([]);\n  const [brands, setBrands] = useState([]);\n\n  // Форма заказа\n  const [formData, setFormData] = useState({\n    client_id: '',\n    device_id: '',\n    problem_description: '',\n    services: []\n  });\n\n  // Форма нового клиента\n  const [newClient, setNewClient] = useState({\n    name: '',\n    phone: '',\n    email: '',\n    address: ''\n  });\n\n  // Форма нового устройства\n  const [newDevice, setNewDevice] = useState({\n    id_type: '',\n    id_brand: '',\n    model: '',\n    serial_number: ''\n  });\n  const [showNewClient, setShowNewClient] = useState(false);\n  const [showNewDevice, setShowNewDevice] = useState(false);\n\n  // Данные из заявки (если переходим из заявки)\n  const [fromRequest, setFromRequest] = useState(null);\n  useEffect(() => {\n    var _location$state;\n    loadInitialData();\n\n    // Проверяем, перешли ли мы из заявки\n    if ((_location$state = location.state) !== null && _location$state !== void 0 && _location$state.fromRequest) {\n      const request = location.state.fromRequest;\n      setFromRequest(request);\n      prefillFormFromRequest(request);\n    }\n  }, [location]);\n  const prefillFormFromRequest = async request => {\n    console.log('Prefilling form from request:', request);\n    try {\n      // Ищем существующего клиента\n      let client = clients.find(c => c.email === request.contact_email || c.phone === request.contact_phone);\n\n      // Если клиент не найден, создаем нового\n      if (!client) {\n        var _request$Client;\n        const clientResponse = await clientService.createClient({\n          name: ((_request$Client = request.Client) === null || _request$Client === void 0 ? void 0 : _request$Client.name) || 'Клиент из заявки',\n          phone: request.contact_phone,\n          email: request.contact_email || `${request.contact_phone}@temp.com`,\n          address: 'Адрес не указан'\n        });\n        client = clientResponse.data;\n        setClients(prev => [...prev, client]);\n      }\n\n      // Ищем существующее устройство\n      let device = devices.find(d => {\n        var _d$Brand;\n        return d.model === request.device_model && ((_d$Brand = d.Brand) === null || _d$Brand === void 0 ? void 0 : _d$Brand.name) === request.device_brand;\n      });\n\n      // Если устройство не найдено, создаем новое\n      if (!device) {\n        // Находим тип устройства\n        let deviceType = deviceTypes.find(t => t.name === request.device_type);\n        if (!deviceType) {\n          // Создаем тип устройства если не найден\n          const typeResponse = await deviceService.createDeviceType({\n            name: request.device_type,\n            description: `Тип устройства для ${request.device_brand}`\n          });\n          deviceType = typeResponse.data;\n          setDeviceTypes(prev => [...prev, deviceType]);\n        }\n\n        // Находим бренд\n        let brand = brands.find(b => b.name === request.device_brand);\n        if (!brand) {\n          // Создаем бренд если не найден\n          const brandResponse = await deviceService.createBrand({\n            name: request.device_brand\n          });\n          brand = brandResponse.data;\n          setBrands(prev => [...prev, brand]);\n        }\n        const deviceResponse = await deviceService.createDevice({\n          id_type: deviceType.id_type,\n          id_brand: brand.id_brand,\n          model: request.device_model,\n          serial_number: ''\n        });\n        device = deviceResponse.data;\n        setDevices(prev => [...prev, device]);\n      }\n\n      // Заполняем форму реальными данными\n      setFormData({\n        client_id: client.id_client,\n        device_id: device.id_device,\n        problem_description: request.problem_description,\n        services: []\n      });\n      setSuccess('Данные из заявки автоматически заполнены!');\n    } catch (error) {\n      console.error('Error pre-filling form:', error);\n      setError('Ошибка при заполнении данных из заявки');\n    }\n  };\n  const loadInitialData = async () => {\n    try {\n      setLoading(true);\n      const [clientsRes, devicesRes, servicesRes, typesRes, brandsRes] = await Promise.all([clientService.getClients({\n        page: 1,\n        limit: 100\n      }), deviceService.getDevices({\n        page: 1,\n        limit: 100\n      }), serviceService.getServices({\n        page: 1,\n        limit: 100\n      }), deviceService.getDeviceTypes(), deviceService.getBrands()]);\n      setClients(clientsRes.data.clients || []);\n      setDevices(devicesRes.data.devices || []);\n      setServices(servicesRes.data.services || []);\n      setDeviceTypes(typesRes.data || []);\n      setBrands(brandsRes.data || []);\n    } catch (error) {\n      console.error('Error loading initial data:', error);\n      setError('Ошибка при загрузке данных');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleFormChange = (field, value) => {\n    setFormData(prev => ({\n      ...prev,\n      [field]: value\n    }));\n  };\n  const handleServiceToggle = serviceId => {\n    setFormData(prev => {\n      const services = [...prev.services];\n      const index = services.indexOf(serviceId);\n      if (index > -1) {\n        services.splice(index, 1);\n      } else {\n        services.push(serviceId);\n      }\n      return {\n        ...prev,\n        services\n      };\n    });\n  };\n  const handleNewClientChange = (field, value) => {\n    setNewClient(prev => ({\n      ...prev,\n      [field]: value\n    }));\n  };\n  const handleNewDeviceChange = (field, value) => {\n    setNewDevice(prev => ({\n      ...prev,\n      [field]: value\n    }));\n  };\n  const createNewClient = async () => {\n    try {\n      const response = await clientService.createClient({\n        name: newClient.name,\n        phone: newClient.phone,\n        email: newClient.email || `${newClient.phone}@client.com`,\n        address: newClient.address || 'Не указан'\n      });\n      setClients(prev => [...prev, response.data]);\n      setFormData(prev => ({\n        ...prev,\n        client_id: response.data.id_client\n      }));\n      setShowNewClient(false);\n      setNewClient({\n        name: '',\n        phone: '',\n        email: '',\n        address: ''\n      });\n      setSuccess('Клиент успешно создан!');\n    } catch (error) {\n      var _error$response, _error$response$data;\n      setError('Ошибка при создании клиента: ' + (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || 'неизвестная ошибка'));\n    }\n  };\n  const createNewDevice = async () => {\n    try {\n      const response = await deviceService.createDevice({\n        id_type: newDevice.id_type,\n        id_brand: newDevice.id_brand,\n        model: newDevice.model,\n        serial_number: newDevice.serial_number || ''\n      });\n      setDevices(prev => [...prev, response.data]);\n      setFormData(prev => ({\n        ...prev,\n        device_id: response.data.id_device\n      }));\n      setShowNewDevice(false);\n      setNewDevice({\n        id_type: '',\n        id_brand: '',\n        model: '',\n        serial_number: ''\n      });\n      setSuccess('Устройство успешно создано!');\n    } catch (error) {\n      var _error$response2, _error$response2$data;\n      setError('Ошибка при создании устройства: ' + (((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.error) || 'неизвестная ошибка'));\n    }\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!formData.client_id || !formData.device_id || !formData.problem_description) {\n      setError('Заполните обязательные поля: клиент, устройство и описание проблемы');\n      return;\n    }\n\n    // Если устройство временное (из заявки), нужно создать настоящее устройство\n    let finalDeviceId = formData.device_id;\n    if (formData.device_id === 'temp' && fromRequest) {\n      try {\n        var _deviceTypes$find, _brands$find;\n        // Создаем устройство на основе данных из заявки\n        const deviceResponse = await deviceService.createDevice({\n          id_type: ((_deviceTypes$find = deviceTypes.find(t => t.name === fromRequest.device_type)) === null || _deviceTypes$find === void 0 ? void 0 : _deviceTypes$find.id_type) || 1,\n          id_brand: ((_brands$find = brands.find(b => b.name === fromRequest.device_brand)) === null || _brands$find === void 0 ? void 0 : _brands$find.id_brand) || 1,\n          model: fromRequest.device_model,\n          serial_number: ''\n        });\n        finalDeviceId = deviceResponse.data.id_device;\n        setDevices(prev => [...prev, deviceResponse.data]);\n      } catch (error) {\n        setError('Ошибка при создании устройства из заявки');\n        return;\n      }\n    }\n    try {\n      setSubmitting(true);\n      setError('');\n      const orderData = {\n        ...formData,\n        device_id: finalDeviceId\n      };\n      await orderService.createOrder(orderData);\n      setSuccess('Заказ успешно создан!');\n      setTimeout(() => {\n        navigate('/orders');\n      }, 2000);\n    } catch (error) {\n      var _error$response3, _error$response3$data;\n      setError(((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : (_error$response3$data = _error$response3.data) === null || _error$response3$data === void 0 ? void 0 : _error$response3$data.error) || 'Ошибка при создании заказа');\n    } finally {\n      setSubmitting(false);\n    }\n  };\n  const getSelectedServices = () => {\n    return services.filter(service => formData.services.includes(service.id_service));\n  };\n  const getTotalPrice = () => {\n    return getSelectedServices().reduce((total, service) => total + parseFloat(service.price), 0);\n  };\n  const clearFromRequest = () => {\n    setFromRequest(null);\n    setFormData({\n      client_id: '',\n      device_id: '',\n      problem_description: '',\n      services: []\n    });\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        minHeight: \"400px\",\n        children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 326,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"lg\",\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        mb: 3,\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h4\",\n        component: \"h1\",\n        children: [\"\\u041D\\u043E\\u0432\\u044B\\u0439 \\u0437\\u0430\\u043A\\u0430\\u0437 \\u043D\\u0430 \\u0440\\u0435\\u043C\\u043E\\u043D\\u0442\", fromRequest && /*#__PURE__*/_jsxDEV(Chip, {\n          label: \"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0435\\u0442\\u0441\\u044F \\u0438\\u0437 \\u0437\\u0430\\u044F\\u0432\\u043A\\u0438\",\n          color: \"primary\",\n          size: \"small\",\n          sx: {\n            ml: 2\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 337,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h4\",\n        component: \"h1\",\n        children: fromRequest && /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outlined\",\n          startIcon: /*#__PURE__*/_jsxDEV(ClearIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 352,\n            columnNumber: 24\n          }, this),\n          onClick: clearFromRequest,\n          children: \"\\u041E\\u0447\\u0438\\u0441\\u0442\\u0438\\u0442\\u044C \\u0434\\u0430\\u043D\\u043D\\u044B\\u0435 \\u0437\\u0430\\u044F\\u0432\\u043A\\u0438\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 336,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n      severity: \"error\",\n      sx: {\n        mb: 2\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 361,\n      columnNumber: 17\n    }, this), success && /*#__PURE__*/_jsxDEV(Alert, {\n      severity: \"success\",\n      sx: {\n        mb: 2\n      },\n      children: success\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 362,\n      columnNumber: 19\n    }, this), fromRequest && /*#__PURE__*/_jsxDEV(Card, {\n      sx: {\n        mb: 3,\n        bgcolor: 'primary.light',\n        color: 'white'\n      },\n      children: /*#__PURE__*/_jsxDEV(CardContent, {\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            alignItems: 'center'\n          },\n          children: /*#__PURE__*/_jsxDEV(Box, {\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h6\",\n              gutterBottom: true,\n              children: [\"\\u0414\\u0430\\u043D\\u043D\\u044B\\u0435 \\u0438\\u0437 \\u0437\\u0430\\u044F\\u0432\\u043A\\u0438 #\", fromRequest.id_request]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 370,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              children: [\"\\u041A\\u043B\\u0438\\u0435\\u043D\\u0442: \", (_fromRequest$Client = fromRequest.Client) === null || _fromRequest$Client === void 0 ? void 0 : _fromRequest$Client.name, \" | \\u0423\\u0441\\u0442\\u0440\\u043E\\u0439\\u0441\\u0442\\u0432\\u043E: \", fromRequest.device_brand, \" \", fromRequest.device_model, \" | \\u0422\\u0438\\u043F: \", fromRequest.device_type]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 373,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 369,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Paper, {\n      sx: {\n        p: 3\n      },\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        component: \"form\",\n        onSubmit: handleSubmit,\n        children: /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          spacing: 3,\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            children: [/*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                display: 'flex',\n                alignItems: 'center',\n                gap: 2,\n                mb: 2\n              },\n              children: [/*#__PURE__*/_jsxDEV(FormControl, {\n                fullWidth: true,\n                children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                  children: \"\\u041A\\u043B\\u0438\\u0435\\u043D\\u0442 *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 391,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Select, {\n                  value: formData.client_id,\n                  label: \"\\u041A\\u043B\\u0438\\u0435\\u043D\\u0442 *\",\n                  onChange: e => handleFormChange('client_id', e.target.value),\n                  children: clients.map(client => /*#__PURE__*/_jsxDEV(MenuItem, {\n                    value: client.id_client,\n                    children: [client.name, \" - \", client.phone, client.id_client === 'temp' && ' (из заявки)']\n                  }, client.id_client, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 398,\n                    columnNumber: 23\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 392,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 390,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"outlined\",\n                onClick: () => setShowNewClient(!showNewClient),\n                startIcon: /*#__PURE__*/_jsxDEV(AddIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 408,\n                  columnNumber: 30\n                }, this),\n                children: \"\\u041D\\u043E\\u0432\\u044B\\u0439 \\u043A\\u043B\\u0438\\u0435\\u043D\\u0442\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 405,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 389,\n              columnNumber: 15\n            }, this), showNewClient && /*#__PURE__*/_jsxDEV(Card, {\n              variant: \"outlined\",\n              sx: {\n                mb: 2\n              },\n              children: /*#__PURE__*/_jsxDEV(CardContent, {\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"h6\",\n                  gutterBottom: true,\n                  children: \"\\u041D\\u043E\\u0432\\u044B\\u0439 \\u043A\\u043B\\u0438\\u0435\\u043D\\u0442\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 417,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                  container: true,\n                  spacing: 2,\n                  children: [/*#__PURE__*/_jsxDEV(Grid, {\n                    item: true,\n                    xs: 12,\n                    sm: 6,\n                    children: /*#__PURE__*/_jsxDEV(TextField, {\n                      fullWidth: true,\n                      label: \"\\u0418\\u043C\\u044F *\",\n                      value: newClient.name,\n                      onChange: e => handleNewClientChange('name', e.target.value)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 422,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 421,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                    item: true,\n                    xs: 12,\n                    sm: 6,\n                    children: /*#__PURE__*/_jsxDEV(TextField, {\n                      fullWidth: true,\n                      label: \"\\u0422\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D *\",\n                      value: newClient.phone,\n                      onChange: e => handleNewClientChange('phone', e.target.value)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 430,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 429,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                    item: true,\n                    xs: 12,\n                    sm: 6,\n                    children: /*#__PURE__*/_jsxDEV(TextField, {\n                      fullWidth: true,\n                      label: \"Email\",\n                      type: \"email\",\n                      value: newClient.email,\n                      onChange: e => handleNewClientChange('email', e.target.value)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 438,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 437,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                    item: true,\n                    xs: 12,\n                    sm: 6,\n                    children: /*#__PURE__*/_jsxDEV(TextField, {\n                      fullWidth: true,\n                      label: \"\\u0410\\u0434\\u0440\\u0435\\u0441\",\n                      value: newClient.address,\n                      onChange: e => handleNewClientChange('address', e.target.value)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 447,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 446,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                    item: true,\n                    xs: 12,\n                    children: /*#__PURE__*/_jsxDEV(Button, {\n                      variant: \"contained\",\n                      onClick: createNewClient,\n                      disabled: !newClient.name || !newClient.phone,\n                      children: \"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C \\u043A\\u043B\\u0438\\u0435\\u043D\\u0442\\u0430\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 455,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 454,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 420,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 416,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 415,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 388,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            children: [/*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                display: 'flex',\n                alignItems: 'center',\n                gap: 2,\n                mb: 2\n              },\n              children: [/*#__PURE__*/_jsxDEV(FormControl, {\n                fullWidth: true,\n                children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                  children: \"\\u0423\\u0441\\u0442\\u0440\\u043E\\u0439\\u0441\\u0442\\u0432\\u043E *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 473,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Select, {\n                  value: formData.device_id,\n                  label: \"\\u0423\\u0441\\u0442\\u0440\\u043E\\u0439\\u0441\\u0442\\u0432\\u043E *\",\n                  onChange: e => handleFormChange('device_id', e.target.value),\n                  children: devices.map(device => {\n                    var _device$Brand, _device$DeviceType;\n                    return /*#__PURE__*/_jsxDEV(MenuItem, {\n                      value: device.id_device,\n                      children: [(_device$Brand = device.Brand) === null || _device$Brand === void 0 ? void 0 : _device$Brand.name, \" \", device.model, \" (\", (_device$DeviceType = device.DeviceType) === null || _device$DeviceType === void 0 ? void 0 : _device$DeviceType.name, \")\", device.id_device === 'temp' && ' (из заявки)']\n                    }, device.id_device, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 480,\n                      columnNumber: 23\n                    }, this);\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 474,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 472,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"outlined\",\n                onClick: () => setShowNewDevice(!showNewDevice),\n                startIcon: /*#__PURE__*/_jsxDEV(AddIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 490,\n                  columnNumber: 30\n                }, this),\n                children: \"\\u041D\\u043E\\u0432\\u043E\\u0435 \\u0443\\u0441\\u0442\\u0440\\u043E\\u0439\\u0441\\u0442\\u0432\\u043E\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 487,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 471,\n              columnNumber: 15\n            }, this), showNewDevice && /*#__PURE__*/_jsxDEV(Card, {\n              variant: \"outlined\",\n              sx: {\n                mb: 2\n              },\n              children: /*#__PURE__*/_jsxDEV(CardContent, {\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"h6\",\n                  gutterBottom: true,\n                  children: \"\\u041D\\u043E\\u0432\\u043E\\u0435 \\u0443\\u0441\\u0442\\u0440\\u043E\\u0439\\u0441\\u0442\\u0432\\u043E\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 499,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                  container: true,\n                  spacing: 2,\n                  children: [/*#__PURE__*/_jsxDEV(Grid, {\n                    item: true,\n                    xs: 12,\n                    sm: 6,\n                    children: /*#__PURE__*/_jsxDEV(FormControl, {\n                      fullWidth: true,\n                      children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                        children: \"\\u0422\\u0438\\u043F \\u0443\\u0441\\u0442\\u0440\\u043E\\u0439\\u0441\\u0442\\u0432\\u0430 *\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 505,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(Select, {\n                        value: newDevice.id_type,\n                        label: \"\\u0422\\u0438\\u043F \\u0443\\u0441\\u0442\\u0440\\u043E\\u0439\\u0441\\u0442\\u0432\\u0430 *\",\n                        onChange: e => handleNewDeviceChange('id_type', e.target.value),\n                        children: deviceTypes.map(type => /*#__PURE__*/_jsxDEV(MenuItem, {\n                          value: type.id_type,\n                          children: type.name\n                        }, type.id_type, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 512,\n                          columnNumber: 31\n                        }, this))\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 506,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 504,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 503,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                    item: true,\n                    xs: 12,\n                    sm: 6,\n                    children: /*#__PURE__*/_jsxDEV(FormControl, {\n                      fullWidth: true,\n                      children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                        children: \"\\u0411\\u0440\\u0435\\u043D\\u0434 *\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 521,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(Select, {\n                        value: newDevice.id_brand,\n                        label: \"\\u0411\\u0440\\u0435\\u043D\\u0434 *\",\n                        onChange: e => handleNewDeviceChange('id_brand', e.target.value),\n                        children: brands.map(brand => /*#__PURE__*/_jsxDEV(MenuItem, {\n                          value: brand.id_brand,\n                          children: brand.name\n                        }, brand.id_brand, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 528,\n                          columnNumber: 31\n                        }, this))\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 522,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 520,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 519,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                    item: true,\n                    xs: 12,\n                    sm: 6,\n                    children: /*#__PURE__*/_jsxDEV(TextField, {\n                      fullWidth: true,\n                      label: \"\\u041C\\u043E\\u0434\\u0435\\u043B\\u044C *\",\n                      value: newDevice.model,\n                      onChange: e => handleNewDeviceChange('model', e.target.value)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 536,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 535,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                    item: true,\n                    xs: 12,\n                    sm: 6,\n                    children: /*#__PURE__*/_jsxDEV(TextField, {\n                      fullWidth: true,\n                      label: \"\\u0421\\u0435\\u0440\\u0438\\u0439\\u043D\\u044B\\u0439 \\u043D\\u043E\\u043C\\u0435\\u0440\",\n                      value: newDevice.serial_number,\n                      onChange: e => handleNewDeviceChange('serial_number', e.target.value)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 544,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 543,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                    item: true,\n                    xs: 12,\n                    children: /*#__PURE__*/_jsxDEV(Button, {\n                      variant: \"contained\",\n                      onClick: createNewDevice,\n                      disabled: !newDevice.id_type || !newDevice.id_brand || !newDevice.model,\n                      children: \"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C \\u0443\\u0441\\u0442\\u0440\\u043E\\u0439\\u0441\\u0442\\u0432\\u043E\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 552,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 551,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 502,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 498,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 497,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 470,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              fullWidth: true,\n              multiline: true,\n              rows: 4,\n              label: \"\\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435 \\u043F\\u0440\\u043E\\u0431\\u043B\\u0435\\u043C\\u044B *\",\n              value: formData.problem_description,\n              onChange: e => handleFormChange('problem_description', e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 568,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 567,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h6\",\n              gutterBottom: true,\n              children: \"\\u0423\\u0441\\u043B\\u0443\\u0433\\u0438\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 580,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              container: true,\n              spacing: 2,\n              children: services.map(service => /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                sm: 6,\n                md: 4,\n                children: /*#__PURE__*/_jsxDEV(Card, {\n                  variant: formData.services.includes(service.id_service) ? \"elevated\" : \"outlined\",\n                  sx: {\n                    cursor: 'pointer',\n                    border: formData.services.includes(service.id_service) ? '2px solid' : '1px solid',\n                    borderColor: formData.services.includes(service.id_service) ? 'primary.main' : 'divider'\n                  },\n                  onClick: () => handleServiceToggle(service.id_service),\n                  children: /*#__PURE__*/_jsxDEV(CardContent, {\n                    children: [/*#__PURE__*/_jsxDEV(Typography, {\n                      variant: \"subtitle1\",\n                      gutterBottom: true,\n                      children: service.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 596,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                      variant: \"body2\",\n                      color: \"textSecondary\",\n                      gutterBottom: true,\n                      children: service.description\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 599,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(Box, {\n                      sx: {\n                        display: 'flex',\n                        justifyContent: 'space-between',\n                        alignItems: 'center'\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(Typography, {\n                        variant: \"h6\",\n                        color: \"primary\",\n                        children: [service.price, \" \\u20BD\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 603,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(Chip, {\n                        label: formData.services.includes(service.id_service) ? \"Выбрано\" : \"Выбрать\",\n                        color: formData.services.includes(service.id_service) ? \"primary\" : \"default\",\n                        size: \"small\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 606,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 602,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 595,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 586,\n                  columnNumber: 21\n                }, this)\n              }, service.id_service, false, {\n                fileName: _jsxFileName,\n                lineNumber: 585,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 583,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 579,\n            columnNumber: 13\n          }, this), formData.services.length > 0 && /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              sx: {\n                bgcolor: 'primary.light',\n                color: 'white'\n              },\n              children: /*#__PURE__*/_jsxDEV(CardContent, {\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"h6\",\n                  gutterBottom: true,\n                  children: \"\\u041F\\u0440\\u0435\\u0434\\u0432\\u0430\\u0440\\u0438\\u0442\\u0435\\u043B\\u044C\\u043D\\u0430\\u044F \\u0441\\u0442\\u043E\\u0438\\u043C\\u043E\\u0441\\u0442\\u044C\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 624,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"h4\",\n                  children: [getTotalPrice(), \" \\u20BD\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 627,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body2\",\n                  children: [\"\\u0412\\u044B\\u0431\\u0440\\u0430\\u043D\\u043E \\u0443\\u0441\\u043B\\u0443\\u0433: \", formData.services.length]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 630,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 623,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 622,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 621,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            children: /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                display: 'flex',\n                gap: 2,\n                justifyContent: 'flex-end'\n              },\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                variant: \"outlined\",\n                onClick: () => navigate('/orders'),\n                children: \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 641,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                type: \"submit\",\n                variant: \"contained\",\n                disabled: submitting,\n                startIcon: submitting ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n                  size: 20\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 651,\n                  columnNumber: 43\n                }, this) : /*#__PURE__*/_jsxDEV(SaveIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 651,\n                  columnNumber: 76\n                }, this),\n                children: submitting ? 'Создание...' : 'Создать заказ'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 647,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 640,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 639,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 385,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 384,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 335,\n    columnNumber: 5\n  }, this);\n};\n_s(NewOrder, \"cxKP2D++qBGtbowNMi5xjCEYCOw=\", false, function () {\n  return [useNavigate, useLocation];\n});\n_c = NewOrder;\nexport default NewOrder;\nvar _c;\n$RefreshReg$(_c, \"NewOrder\");","map":{"version":3,"names":["React","useState","useEffect","Container","Paper","TextField","Button","Typography","Box","Grid","FormControl","InputLabel","Select","MenuItem","Alert","CircularProgress","Card","CardContent","Chip","IconButton","Add","AddIcon","Save","SaveIcon","Clear","ClearIcon","useNavigate","useLocation","orderService","clientService","deviceService","serviceService","jsxDEV","_jsxDEV","NewOrder","_s","_fromRequest$Client","navigate","location","loading","setLoading","submitting","setSubmitting","error","setError","success","setSuccess","clients","setClients","devices","setDevices","services","setServices","deviceTypes","setDeviceTypes","brands","setBrands","formData","setFormData","client_id","device_id","problem_description","newClient","setNewClient","name","phone","email","address","newDevice","setNewDevice","id_type","id_brand","model","serial_number","showNewClient","setShowNewClient","showNewDevice","setShowNewDevice","fromRequest","setFromRequest","_location$state","loadInitialData","state","request","prefillFormFromRequest","console","log","client","find","c","contact_email","contact_phone","_request$Client","clientResponse","createClient","Client","data","prev","device","d","_d$Brand","device_model","Brand","device_brand","deviceType","t","device_type","typeResponse","createDeviceType","description","brand","b","brandResponse","createBrand","deviceResponse","createDevice","id_client","id_device","clientsRes","devicesRes","servicesRes","typesRes","brandsRes","Promise","all","getClients","page","limit","getDevices","getServices","getDeviceTypes","getBrands","handleFormChange","field","value","handleServiceToggle","serviceId","index","indexOf","splice","push","handleNewClientChange","handleNewDeviceChange","createNewClient","response","_error$response","_error$response$data","createNewDevice","_error$response2","_error$response2$data","handleSubmit","e","preventDefault","finalDeviceId","_deviceTypes$find","_brands$find","orderData","createOrder","setTimeout","_error$response3","_error$response3$data","getSelectedServices","filter","service","includes","id_service","getTotalPrice","reduce","total","parseFloat","price","clearFromRequest","children","display","justifyContent","alignItems","minHeight","fileName","_jsxFileName","lineNumber","columnNumber","maxWidth","sx","mb","variant","component","label","color","size","ml","startIcon","onClick","severity","bgcolor","gutterBottom","id_request","p","onSubmit","container","spacing","item","xs","gap","fullWidth","onChange","target","map","sm","type","disabled","_device$Brand","_device$DeviceType","DeviceType","multiline","rows","md","cursor","border","borderColor","length","_c","$RefreshReg$"],"sources":["F:/repair_shop/frontend/src/pages/NewOrder.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport {\r\n  Container,\r\n  Paper,\r\n  TextField,\r\n  Button,\r\n  Typography,\r\n  Box,\r\n  Grid,\r\n  FormControl,\r\n  InputLabel,\r\n  Select,\r\n  MenuItem,\r\n  Alert,\r\n  CircularProgress,\r\n  Card,\r\n  CardContent,\r\n  Chip,\r\n  IconButton\r\n} from '@mui/material';\r\nimport {\r\n  Add as AddIcon,\r\n  Save as SaveIcon,\r\n  Clear as ClearIcon\r\n} from '@mui/icons-material';\r\nimport { useNavigate, useLocation } from 'react-router-dom';\r\nimport { orderService, clientService, deviceService, serviceService } from '../services/api';\r\n\r\nconst NewOrder = () => {\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const [loading, setLoading] = useState(false);\r\n  const [submitting, setSubmitting] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [success, setSuccess] = useState('');\r\n\r\n  // Данные для форм\r\n  const [clients, setClients] = useState([]);\r\n  const [devices, setDevices] = useState([]);\r\n  const [services, setServices] = useState([]);\r\n  const [deviceTypes, setDeviceTypes] = useState([]);\r\n  const [brands, setBrands] = useState([]);\r\n\r\n  // Форма заказа\r\n  const [formData, setFormData] = useState({\r\n    client_id: '',\r\n    device_id: '',\r\n    problem_description: '',\r\n    services: []\r\n  });\r\n\r\n  // Форма нового клиента\r\n  const [newClient, setNewClient] = useState({\r\n    name: '',\r\n    phone: '',\r\n    email: '',\r\n    address: ''\r\n  });\r\n\r\n  // Форма нового устройства\r\n  const [newDevice, setNewDevice] = useState({\r\n    id_type: '',\r\n    id_brand: '',\r\n    model: '',\r\n    serial_number: ''\r\n  });\r\n\r\n  const [showNewClient, setShowNewClient] = useState(false);\r\n  const [showNewDevice, setShowNewDevice] = useState(false);\r\n\r\n  // Данные из заявки (если переходим из заявки)\r\n  const [fromRequest, setFromRequest] = useState(null);\r\n\r\n  useEffect(() => {\r\n    loadInitialData();\r\n    \r\n    // Проверяем, перешли ли мы из заявки\r\n    if (location.state?.fromRequest) {\r\n      const request = location.state.fromRequest;\r\n      setFromRequest(request);\r\n      prefillFormFromRequest(request);\r\n    }\r\n  }, [location]);\r\n\r\n  const prefillFormFromRequest = async (request) => {\r\n  console.log('Prefilling form from request:', request);\r\n  \r\n  try {\r\n    // Ищем существующего клиента\r\n    let client = clients.find(c => c.email === request.contact_email || c.phone === request.contact_phone);\r\n    \r\n    // Если клиент не найден, создаем нового\r\n    if (!client) {\r\n      const clientResponse = await clientService.createClient({\r\n        name: request.Client?.name || 'Клиент из заявки',\r\n        phone: request.contact_phone,\r\n        email: request.contact_email || `${request.contact_phone}@temp.com`,\r\n        address: 'Адрес не указан'\r\n      });\r\n      client = clientResponse.data;\r\n      setClients(prev => [...prev, client]);\r\n    }\r\n\r\n    // Ищем существующее устройство\r\n    let device = devices.find(d => \r\n      d.model === request.device_model && \r\n      d.Brand?.name === request.device_brand\r\n    );\r\n\r\n    // Если устройство не найдено, создаем новое\r\n    if (!device) {\r\n      // Находим тип устройства\r\n      let deviceType = deviceTypes.find(t => t.name === request.device_type);\r\n      if (!deviceType) {\r\n        // Создаем тип устройства если не найден\r\n        const typeResponse = await deviceService.createDeviceType({\r\n          name: request.device_type,\r\n          description: `Тип устройства для ${request.device_brand}`\r\n        });\r\n        deviceType = typeResponse.data;\r\n        setDeviceTypes(prev => [...prev, deviceType]);\r\n      }\r\n\r\n      // Находим бренд\r\n      let brand = brands.find(b => b.name === request.device_brand);\r\n      if (!brand) {\r\n        // Создаем бренд если не найден\r\n        const brandResponse = await deviceService.createBrand({\r\n          name: request.device_brand\r\n        });\r\n        brand = brandResponse.data;\r\n        setBrands(prev => [...prev, brand]);\r\n      }\r\n\r\n      const deviceResponse = await deviceService.createDevice({\r\n        id_type: deviceType.id_type,\r\n        id_brand: brand.id_brand,\r\n        model: request.device_model,\r\n        serial_number: ''\r\n      });\r\n      device = deviceResponse.data;\r\n      setDevices(prev => [...prev, device]);\r\n    }\r\n\r\n    // Заполняем форму реальными данными\r\n    setFormData({\r\n      client_id: client.id_client,\r\n      device_id: device.id_device,\r\n      problem_description: request.problem_description,\r\n      services: []\r\n    });\r\n\r\n    setSuccess('Данные из заявки автоматически заполнены!');\r\n  } catch (error) {\r\n    console.error('Error pre-filling form:', error);\r\n    setError('Ошибка при заполнении данных из заявки');\r\n  }\r\n};\r\n\r\n  const loadInitialData = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const [clientsRes, devicesRes, servicesRes, typesRes, brandsRes] = await Promise.all([\r\n        clientService.getClients({ page: 1, limit: 100 }),\r\n        deviceService.getDevices({ page: 1, limit: 100 }),\r\n        serviceService.getServices({ page: 1, limit: 100 }),\r\n        deviceService.getDeviceTypes(),\r\n        deviceService.getBrands()\r\n      ]);\r\n\r\n      setClients(clientsRes.data.clients || []);\r\n      setDevices(devicesRes.data.devices || []);\r\n      setServices(servicesRes.data.services || []);\r\n      setDeviceTypes(typesRes.data || []);\r\n      setBrands(brandsRes.data || []);\r\n    } catch (error) {\r\n      console.error('Error loading initial data:', error);\r\n      setError('Ошибка при загрузке данных');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleFormChange = (field, value) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [field]: value\r\n    }));\r\n  };\r\n\r\n  const handleServiceToggle = (serviceId) => {\r\n    setFormData(prev => {\r\n      const services = [...prev.services];\r\n      const index = services.indexOf(serviceId);\r\n      \r\n      if (index > -1) {\r\n        services.splice(index, 1);\r\n      } else {\r\n        services.push(serviceId);\r\n      }\r\n      \r\n      return { ...prev, services };\r\n    });\r\n  };\r\n\r\n  const handleNewClientChange = (field, value) => {\r\n    setNewClient(prev => ({\r\n      ...prev,\r\n      [field]: value\r\n    }));\r\n  };\r\n\r\n  const handleNewDeviceChange = (field, value) => {\r\n    setNewDevice(prev => ({\r\n      ...prev,\r\n      [field]: value\r\n    }));\r\n  };\r\n\r\nconst createNewClient = async () => {\r\n  try {\r\n    const response = await clientService.createClient({\r\n      name: newClient.name,\r\n      phone: newClient.phone,\r\n      email: newClient.email || `${newClient.phone}@client.com`,\r\n      address: newClient.address || 'Не указан'\r\n    });\r\n    setClients(prev => [...prev, response.data]);\r\n    setFormData(prev => ({ ...prev, client_id: response.data.id_client }));\r\n    setShowNewClient(false);\r\n    setNewClient({ name: '', phone: '', email: '', address: '' });\r\n    setSuccess('Клиент успешно создан!');\r\n  } catch (error) {\r\n    setError('Ошибка при создании клиента: ' + (error.response?.data?.error || 'неизвестная ошибка'));\r\n  }\r\n};\r\n\r\nconst createNewDevice = async () => {\r\n  try {\r\n    const response = await deviceService.createDevice({\r\n      id_type: newDevice.id_type,\r\n      id_brand: newDevice.id_brand,\r\n      model: newDevice.model,\r\n      serial_number: newDevice.serial_number || ''\r\n    });\r\n    setDevices(prev => [...prev, response.data]);\r\n    setFormData(prev => ({ ...prev, device_id: response.data.id_device }));\r\n    setShowNewDevice(false);\r\n    setNewDevice({ id_type: '', id_brand: '', model: '', serial_number: '' });\r\n    setSuccess('Устройство успешно создано!');\r\n  } catch (error) {\r\n    setError('Ошибка при создании устройства: ' + (error.response?.data?.error || 'неизвестная ошибка'));\r\n  }\r\n};\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (!formData.client_id || !formData.device_id || !formData.problem_description) {\r\n      setError('Заполните обязательные поля: клиент, устройство и описание проблемы');\r\n      return;\r\n    }\r\n\r\n    // Если устройство временное (из заявки), нужно создать настоящее устройство\r\n    let finalDeviceId = formData.device_id;\r\n    if (formData.device_id === 'temp' && fromRequest) {\r\n      try {\r\n        // Создаем устройство на основе данных из заявки\r\n        const deviceResponse = await deviceService.createDevice({\r\n          id_type: deviceTypes.find(t => t.name === fromRequest.device_type)?.id_type || 1,\r\n          id_brand: brands.find(b => b.name === fromRequest.device_brand)?.id_brand || 1,\r\n          model: fromRequest.device_model,\r\n          serial_number: ''\r\n        });\r\n        finalDeviceId = deviceResponse.data.id_device;\r\n        setDevices(prev => [...prev, deviceResponse.data]);\r\n      } catch (error) {\r\n        setError('Ошибка при создании устройства из заявки');\r\n        return;\r\n      }\r\n    }\r\n\r\n    try {\r\n      setSubmitting(true);\r\n      setError('');\r\n      \r\n      const orderData = {\r\n        ...formData,\r\n        device_id: finalDeviceId\r\n      };\r\n      \r\n      await orderService.createOrder(orderData);\r\n      \r\n      setSuccess('Заказ успешно создан!');\r\n      setTimeout(() => {\r\n        navigate('/orders');\r\n      }, 2000);\r\n      \r\n    } catch (error) {\r\n      setError(error.response?.data?.error || 'Ошибка при создании заказа');\r\n    } finally {\r\n      setSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const getSelectedServices = () => {\r\n    return services.filter(service => formData.services.includes(service.id_service));\r\n  };\r\n\r\n  const getTotalPrice = () => {\r\n    return getSelectedServices().reduce((total, service) => total + parseFloat(service.price), 0);\r\n  };\r\n\r\n  const clearFromRequest = () => {\r\n    setFromRequest(null);\r\n    setFormData({\r\n      client_id: '',\r\n      device_id: '',\r\n      problem_description: '',\r\n      services: []\r\n    });\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <Container>\r\n        <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" minHeight=\"400px\">\r\n          <CircularProgress />\r\n        </Box>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Container maxWidth=\"lg\">\r\n      <Box sx={{ mb: 3, display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n        <Typography variant=\"h4\" component=\"h1\">\r\n          Новый заказ на ремонт\r\n          {fromRequest && (\r\n            <Chip \r\n              label=\"Создается из заявки\" \r\n              color=\"primary\" \r\n              size=\"small\" \r\n              sx={{ ml: 2 }}\r\n            />\r\n          )}\r\n        </Typography>\r\n        <Typography variant=\"h4\" component=\"h1\">\r\n        {fromRequest && (\r\n          <Button\r\n            variant=\"outlined\"\r\n            startIcon={<ClearIcon />}\r\n            onClick={clearFromRequest}\r\n          >\r\n            Очистить данные заявки\r\n          </Button>\r\n        )}\r\n      </Typography>\r\n      </Box>\r\n\r\n      {error && <Alert severity=\"error\" sx={{ mb: 2 }}>{error}</Alert>}\r\n      {success && <Alert severity=\"success\" sx={{ mb: 2 }}>{success}</Alert>}\r\n\r\n      {/* Блок информации из заявки */}\r\n      {fromRequest && (\r\n        <Card sx={{ mb: 3, bgcolor: 'primary.light', color: 'white' }}>\r\n          <CardContent>\r\n            <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n              <Box>\r\n                <Typography variant=\"h6\" gutterBottom>\r\n                  Данные из заявки #{fromRequest.id_request}\r\n                </Typography>\r\n                <Typography variant=\"body2\">\r\n                  Клиент: {fromRequest.Client?.name} | \r\n                  Устройство: {fromRequest.device_brand} {fromRequest.device_model} | \r\n                  Тип: {fromRequest.device_type}\r\n                </Typography>\r\n              </Box>\r\n            </Box>\r\n          </CardContent>\r\n        </Card>\r\n      )}\r\n\r\n      <Paper sx={{ p: 3 }}>\r\n        <Box component=\"form\" onSubmit={handleSubmit}>\r\n          <Grid container spacing={3}>\r\n            {/* Выбор клиента */}\r\n            <Grid item xs={12}>\r\n              <Box sx={{ display: 'flex', alignItems: 'center', gap: 2, mb: 2 }}>\r\n                <FormControl fullWidth>\r\n                  <InputLabel>Клиент *</InputLabel>\r\n                  <Select\r\n                    value={formData.client_id}\r\n                    label=\"Клиент *\"\r\n                    onChange={(e) => handleFormChange('client_id', e.target.value)}\r\n                  >\r\n                    {clients.map(client => (\r\n                      <MenuItem key={client.id_client} value={client.id_client}>\r\n                        {client.name} - {client.phone}\r\n                        {client.id_client === 'temp' && ' (из заявки)'}\r\n                      </MenuItem>\r\n                    ))}\r\n                  </Select>\r\n                </FormControl>\r\n                <Button\r\n                  variant=\"outlined\"\r\n                  onClick={() => setShowNewClient(!showNewClient)}\r\n                  startIcon={<AddIcon />}\r\n                >\r\n                  Новый клиент\r\n                </Button>\r\n              </Box>\r\n\r\n              {showNewClient && (\r\n                <Card variant=\"outlined\" sx={{ mb: 2 }}>\r\n                  <CardContent>\r\n                    <Typography variant=\"h6\" gutterBottom>\r\n                      Новый клиент\r\n                    </Typography>\r\n                    <Grid container spacing={2}>\r\n                      <Grid item xs={12} sm={6}>\r\n                        <TextField\r\n                          fullWidth\r\n                          label=\"Имя *\"\r\n                          value={newClient.name}\r\n                          onChange={(e) => handleNewClientChange('name', e.target.value)}\r\n                        />\r\n                      </Grid>\r\n                      <Grid item xs={12} sm={6}>\r\n                        <TextField\r\n                          fullWidth\r\n                          label=\"Телефон *\"\r\n                          value={newClient.phone}\r\n                          onChange={(e) => handleNewClientChange('phone', e.target.value)}\r\n                        />\r\n                      </Grid>\r\n                      <Grid item xs={12} sm={6}>\r\n                        <TextField\r\n                          fullWidth\r\n                          label=\"Email\"\r\n                          type=\"email\"\r\n                          value={newClient.email}\r\n                          onChange={(e) => handleNewClientChange('email', e.target.value)}\r\n                        />\r\n                      </Grid>\r\n                      <Grid item xs={12} sm={6}>\r\n                        <TextField\r\n                          fullWidth\r\n                          label=\"Адрес\"\r\n                          value={newClient.address}\r\n                          onChange={(e) => handleNewClientChange('address', e.target.value)}\r\n                        />\r\n                      </Grid>\r\n                      <Grid item xs={12}>\r\n                        <Button\r\n                          variant=\"contained\"\r\n                          onClick={createNewClient}\r\n                          disabled={!newClient.name || !newClient.phone}\r\n                        >\r\n                          Создать клиента\r\n                        </Button>\r\n                      </Grid>\r\n                    </Grid>\r\n                  </CardContent>\r\n                </Card>\r\n              )}\r\n            </Grid>\r\n\r\n            {/* Выбор устройства */}\r\n            <Grid item xs={12}>\r\n              <Box sx={{ display: 'flex', alignItems: 'center', gap: 2, mb: 2 }}>\r\n                <FormControl fullWidth>\r\n                  <InputLabel>Устройство *</InputLabel>\r\n                  <Select\r\n                    value={formData.device_id}\r\n                    label=\"Устройство *\"\r\n                    onChange={(e) => handleFormChange('device_id', e.target.value)}\r\n                  >\r\n                    {devices.map(device => (\r\n                      <MenuItem key={device.id_device} value={device.id_device}>\r\n                        {device.Brand?.name} {device.model} ({device.DeviceType?.name})\r\n                        {device.id_device === 'temp' && ' (из заявки)'}\r\n                      </MenuItem>\r\n                    ))}\r\n                  </Select>\r\n                </FormControl>\r\n                <Button\r\n                  variant=\"outlined\"\r\n                  onClick={() => setShowNewDevice(!showNewDevice)}\r\n                  startIcon={<AddIcon />}\r\n                >\r\n                  Новое устройство\r\n                </Button>\r\n              </Box>\r\n\r\n              {showNewDevice && (\r\n                <Card variant=\"outlined\" sx={{ mb: 2 }}>\r\n                  <CardContent>\r\n                    <Typography variant=\"h6\" gutterBottom>\r\n                      Новое устройство\r\n                    </Typography>\r\n                    <Grid container spacing={2}>\r\n                      <Grid item xs={12} sm={6}>\r\n                        <FormControl fullWidth>\r\n                          <InputLabel>Тип устройства *</InputLabel>\r\n                          <Select\r\n                            value={newDevice.id_type}\r\n                            label=\"Тип устройства *\"\r\n                            onChange={(e) => handleNewDeviceChange('id_type', e.target.value)}\r\n                          >\r\n                            {deviceTypes.map(type => (\r\n                              <MenuItem key={type.id_type} value={type.id_type}>\r\n                                {type.name}\r\n                              </MenuItem>\r\n                            ))}\r\n                          </Select>\r\n                        </FormControl>\r\n                      </Grid>\r\n                      <Grid item xs={12} sm={6}>\r\n                        <FormControl fullWidth>\r\n                          <InputLabel>Бренд *</InputLabel>\r\n                          <Select\r\n                            value={newDevice.id_brand}\r\n                            label=\"Бренд *\"\r\n                            onChange={(e) => handleNewDeviceChange('id_brand', e.target.value)}\r\n                          >\r\n                            {brands.map(brand => (\r\n                              <MenuItem key={brand.id_brand} value={brand.id_brand}>\r\n                                {brand.name}\r\n                              </MenuItem>\r\n                            ))}\r\n                          </Select>\r\n                        </FormControl>\r\n                      </Grid>\r\n                      <Grid item xs={12} sm={6}>\r\n                        <TextField\r\n                          fullWidth\r\n                          label=\"Модель *\"\r\n                          value={newDevice.model}\r\n                          onChange={(e) => handleNewDeviceChange('model', e.target.value)}\r\n                        />\r\n                      </Grid>\r\n                      <Grid item xs={12} sm={6}>\r\n                        <TextField\r\n                          fullWidth\r\n                          label=\"Серийный номер\"\r\n                          value={newDevice.serial_number}\r\n                          onChange={(e) => handleNewDeviceChange('serial_number', e.target.value)}\r\n                        />\r\n                      </Grid>\r\n                      <Grid item xs={12}>\r\n                        <Button\r\n                          variant=\"contained\"\r\n                          onClick={createNewDevice}\r\n                          disabled={!newDevice.id_type || !newDevice.id_brand || !newDevice.model}\r\n                        >\r\n                          Создать устройство\r\n                        </Button>\r\n                      </Grid>\r\n                    </Grid>\r\n                  </CardContent>\r\n                </Card>\r\n              )}\r\n            </Grid>\r\n\r\n            {/* Описание проблемы */}\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                fullWidth\r\n                multiline\r\n                rows={4}\r\n                label=\"Описание проблемы *\"\r\n                value={formData.problem_description}\r\n                onChange={(e) => handleFormChange('problem_description', e.target.value)}\r\n              />\r\n            </Grid>\r\n\r\n            {/* Выбор услуг */}\r\n            <Grid item xs={12}>\r\n              <Typography variant=\"h6\" gutterBottom>\r\n                Услуги\r\n              </Typography>\r\n              <Grid container spacing={2}>\r\n                {services.map(service => (\r\n                  <Grid item xs={12} sm={6} md={4} key={service.id_service}>\r\n                    <Card \r\n                      variant={formData.services.includes(service.id_service) ? \"elevated\" : \"outlined\"}\r\n                      sx={{ \r\n                        cursor: 'pointer',\r\n                        border: formData.services.includes(service.id_service) ? '2px solid' : '1px solid',\r\n                        borderColor: formData.services.includes(service.id_service) ? 'primary.main' : 'divider'\r\n                      }}\r\n                      onClick={() => handleServiceToggle(service.id_service)}\r\n                    >\r\n                      <CardContent>\r\n                        <Typography variant=\"subtitle1\" gutterBottom>\r\n                          {service.name}\r\n                        </Typography>\r\n                        <Typography variant=\"body2\" color=\"textSecondary\" gutterBottom>\r\n                          {service.description}\r\n                        </Typography>\r\n                        <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n                          <Typography variant=\"h6\" color=\"primary\">\r\n                            {service.price} ₽\r\n                          </Typography>\r\n                          <Chip \r\n                            label={formData.services.includes(service.id_service) ? \"Выбрано\" : \"Выбрать\"}\r\n                            color={formData.services.includes(service.id_service) ? \"primary\" : \"default\"}\r\n                            size=\"small\"\r\n                          />\r\n                        </Box>\r\n                      </CardContent>\r\n                    </Card>\r\n                  </Grid>\r\n                ))}\r\n              </Grid>\r\n            </Grid>\r\n\r\n            {/* Итоговая стоимость */}\r\n            {formData.services.length > 0 && (\r\n              <Grid item xs={12}>\r\n                <Card sx={{ bgcolor: 'primary.light', color: 'white' }}>\r\n                  <CardContent>\r\n                    <Typography variant=\"h6\" gutterBottom>\r\n                      Предварительная стоимость\r\n                    </Typography>\r\n                    <Typography variant=\"h4\">\r\n                      {getTotalPrice()} ₽\r\n                    </Typography>\r\n                    <Typography variant=\"body2\">\r\n                      Выбрано услуг: {formData.services.length}\r\n                    </Typography>\r\n                  </CardContent>\r\n                </Card>\r\n              </Grid>\r\n            )}\r\n\r\n            {/* Кнопки отправки */}\r\n            <Grid item xs={12}>\r\n              <Box sx={{ display: 'flex', gap: 2, justifyContent: 'flex-end' }}>\r\n                <Button\r\n                  variant=\"outlined\"\r\n                  onClick={() => navigate('/orders')}\r\n                >\r\n                  Отмена\r\n                </Button>\r\n                <Button\r\n                  type=\"submit\"\r\n                  variant=\"contained\"\r\n                  disabled={submitting}\r\n                  startIcon={submitting ? <CircularProgress size={20} /> : <SaveIcon />}\r\n                >\r\n                  {submitting ? 'Создание...' : 'Создать заказ'}\r\n                </Button>\r\n              </Box>\r\n            </Grid>\r\n          </Grid>\r\n        </Box>\r\n      </Paper>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default NewOrder;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}