{"ast":null,"code":"var _jsxFileName = \"F:\\\\repair_shop\\\\frontend\\\\src\\\\pages\\\\NewOrder.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Container, Paper, TextField, Button, Typography, Box, Grid, FormControl, InputLabel, Select, MenuItem, Alert, CircularProgress, Card, CardContent, Chip } from '@mui/material';\nimport { Add as AddIcon, Save as SaveIcon, Clear as ClearIcon } from '@mui/icons-material';\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport { orderService, clientService, deviceService, serviceService } from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst NewOrder = () => {\n  _s();\n  var _fromRequest$Client;\n  const navigate = useNavigate();\n  const location = useLocation();\n  const [loading, setLoading] = useState(false);\n  const [submitting, setSubmitting] = useState(false);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n\n  // Данные для форм\n  const [clients, setClients] = useState([]);\n  const [devices, setDevices] = useState([]);\n  const [services, setServices] = useState([]);\n  const [deviceTypes, setDeviceTypes] = useState([]);\n  const [brands, setBrands] = useState([]);\n\n  // Форма заказа\n  const [formData, setFormData] = useState({\n    client_id: '',\n    device_id: '',\n    problem_description: '',\n    services: []\n  });\n\n  // Форма нового клиента\n  const [newClient, setNewClient] = useState({\n    name: '',\n    phone: '',\n    email: '',\n    address: ''\n  });\n\n  // Форма нового устройства\n  const [newDevice, setNewDevice] = useState({\n    id_type: '',\n    id_brand: '',\n    model: '',\n    serial_number: ''\n  });\n  const [showNewClient, setShowNewClient] = useState(false);\n  const [showNewDevice, setShowNewDevice] = useState(false);\n  const [fromRequest, setFromRequest] = useState(null);\n  useEffect(() => {\n    var _location$state;\n    // Проверяем авторизацию перед загрузкой данных\n    const token = localStorage.getItem('token');\n    if (!token) {\n      navigate('/login');\n      return;\n    }\n    loadInitialData();\n    if ((_location$state = location.state) !== null && _location$state !== void 0 && _location$state.fromRequest) {\n      const request = location.state.fromRequest;\n      setFromRequest(request);\n      prefillFormFromRequest(request);\n    }\n  }, [location, navigate]);\n  const prefillFormFromRequest = async request => {\n    console.log('Prefilling form from request:', request);\n    try {\n      // Проверяем авторизацию\n      const token = localStorage.getItem('token');\n      if (!token) {\n        setError('Требуется авторизация');\n        navigate('/login');\n        return;\n      }\n\n      // Ищем существующего клиента по телефону или email\n      let client = clients.find(c => request.contact_phone && c.phone === request.contact_phone || request.contact_email && c.email === request.contact_email);\n\n      // Если клиент не найден, создаем нового с правильной структурой данных\n      if (!client) {\n        var _request$Client, _request$Client2, _request$Client2$name, _request$contact_phon, _request$contact_emai, _request$address;\n        console.log('Creating new client from request data:', {\n          name: (_request$Client = request.Client) === null || _request$Client === void 0 ? void 0 : _request$Client.name,\n          phone: request.contact_phone,\n          email: request.contact_email\n        });\n\n        // Подготавливаем данные клиента с валидацией\n        const clientData = {\n          name: ((_request$Client2 = request.Client) === null || _request$Client2 === void 0 ? void 0 : (_request$Client2$name = _request$Client2.name) === null || _request$Client2$name === void 0 ? void 0 : _request$Client2$name.trim()) || `Клиент ${request.contact_phone || 'без имени'}`,\n          phone: ((_request$contact_phon = request.contact_phone) === null || _request$contact_phon === void 0 ? void 0 : _request$contact_phon.trim()) || '',\n          email: ((_request$contact_emai = request.contact_email) === null || _request$contact_emai === void 0 ? void 0 : _request$contact_emai.trim()) || (request.contact_phone ? `${request.contact_phone}@temp.com` : 'unknown@temp.com'),\n          address: ((_request$address = request.address) === null || _request$address === void 0 ? void 0 : _request$address.trim()) || 'Адрес не указан'\n        };\n\n        // Валидация обязательных полей\n        if (!clientData.phone) {\n          throw new Error('Недостаточно данных для создания клиента: отсутствует телефон');\n        }\n        if (!clientData.name || clientData.name.length < 2) {\n          clientData.name = `Клиент ${clientData.phone}`;\n        }\n\n        // Проверяем email\n        if (!clientData.email.includes('@')) {\n          clientData.email = `${clientData.phone}@temp.com`;\n        }\n        console.log('Sending client data to API:', clientData);\n        try {\n          const clientResponse = await clientService.createClient(clientData);\n          client = clientResponse.data;\n          setClients(prev => [...prev, client]);\n          console.log('Client created successfully:', client);\n        } catch (clientError) {\n          console.error('Error creating client:', clientError);\n\n          // Если ошибка создания клиента, пробуем найти снова (возможно создался параллельно)\n          const refreshedClients = await clientService.getClients({\n            page: 1,\n            limit: 100\n          });\n          setClients(refreshedClients.data.clients || []);\n          client = refreshedClients.data.clients.find(c => request.contact_phone && c.phone === request.contact_phone || request.contact_email && c.email === request.contact_email);\n          if (!client) {\n            var _clientError$response, _clientError$response2;\n            throw new Error(`Не удалось создать клиента: ${((_clientError$response = clientError.response) === null || _clientError$response === void 0 ? void 0 : (_clientError$response2 = _clientError$response.data) === null || _clientError$response2 === void 0 ? void 0 : _clientError$response2.error) || clientError.message}`);\n          }\n        }\n      }\n\n      // Ищем существующее устройство\n      let device = devices.find(d => {\n        var _d$Brand;\n        return d.model === request.device_model && ((_d$Brand = d.Brand) === null || _d$Brand === void 0 ? void 0 : _d$Brand.name) === request.device_brand;\n      });\n\n      // Если устройство не найдено, создаем новое\n      if (!device && request.device_model && request.device_brand) {\n        console.log('Creating new device from request data:', {\n          model: request.device_model,\n          brand: request.device_brand,\n          type: request.device_type\n        });\n\n        // Находим или создаем тип устройства\n        let deviceType = deviceTypes.find(t => t.name === request.device_type);\n        if (!deviceType && request.device_type) {\n          try {\n            const typeResponse = await deviceService.createDeviceType({\n              name: request.device_type,\n              description: `Тип устройства для ${request.device_brand}`\n            });\n            deviceType = typeResponse.data;\n            setDeviceTypes(prev => [...prev, deviceType]);\n          } catch (typeError) {\n            console.warn('Не удалось создать тип устройства:', typeError);\n            // Используем первый доступный тип или создаем базовый\n            deviceType = deviceTypes[0];\n            if (!deviceType) {\n              const defaultTypeResponse = await deviceService.createDeviceType({\n                name: 'Другое',\n                description: 'Тип устройства по умолчанию'\n              });\n              deviceType = defaultTypeResponse.data;\n              setDeviceTypes(prev => [...prev, deviceType]);\n            }\n          }\n        }\n\n        // Находим или создаем бренд\n        let brand = brands.find(b => b.name === request.device_brand);\n        if (!brand && request.device_brand) {\n          try {\n            const brandResponse = await deviceService.createBrand({\n              name: request.device_brand\n            });\n            brand = brandResponse.data;\n            setBrands(prev => [...prev, brand]);\n          } catch (brandError) {\n            console.warn('Не удалось создать бренд:', brandError);\n            // Используем первый доступный бренд или создаем базовый\n            brand = brands[0];\n            if (!brand) {\n              const defaultBrandResponse = await deviceService.createBrand({\n                name: 'Другой'\n              });\n              brand = defaultBrandResponse.data;\n              setBrands(prev => [...prev, brand]);\n            }\n          }\n        }\n        if (deviceType && brand) {\n          try {\n            const deviceResponse = await deviceService.createDevice({\n              id_type: deviceType.id_type,\n              id_brand: brand.id_brand,\n              model: request.device_model || 'Модель не указана',\n              serial_number: request.serial_number || ''\n            });\n            device = deviceResponse.data;\n            setDevices(prev => [...prev, device]);\n            console.log('Device created successfully:', device);\n          } catch (deviceError) {\n            var _deviceError$response, _deviceError$response2;\n            console.error('Error creating device:', deviceError);\n            throw new Error(`Не удалось создать устройство: ${((_deviceError$response = deviceError.response) === null || _deviceError$response === void 0 ? void 0 : (_deviceError$response2 = _deviceError$response.data) === null || _deviceError$response2 === void 0 ? void 0 : _deviceError$response2.error) || deviceError.message}`);\n          }\n        }\n      }\n\n      // Заполняем форму данными\n      if (client && device) {\n        setFormData({\n          client_id: client.id_client,\n          device_id: device.id_device,\n          problem_description: request.problem_description || 'Описание проблемы не указано',\n          services: []\n        });\n        setSuccess('Данные из заявки автоматически заполнены!');\n      } else {\n        setError('Не удалось создать необходимые данные для заказа');\n      }\n    } catch (error) {\n      var _error$response, _error$response2;\n      console.error('Error pre-filling form:', error);\n\n      // Более детальная обработка ошибок\n      if (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status) === 401) {\n        localStorage.removeItem('token');\n        setError('Сессия истекла. Пожалуйста, войдите снова.');\n        navigate('/login');\n      } else if (((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.status) === 400) {\n        // Парсим ошибку валидации\n        const errorData = error.response.data;\n        if (errorData.errors) {\n          // Если есть детали ошибок валидации\n          const validationErrors = Object.values(errorData.errors).join(', ');\n          setError(`Ошибка валидации данных: ${validationErrors}`);\n        } else {\n          setError(`Ошибка в данных: ${errorData.error || 'неверный формат данных'}`);\n        }\n      } else {\n        setError(`Ошибка при заполнении данных из заявки: ${error.message || 'неизвестная ошибка'}`);\n      }\n    }\n  };\n  const loadInitialData = async () => {\n    try {\n      setLoading(true);\n      const [clientsRes, devicesRes, servicesRes, typesRes, brandsRes] = await Promise.all([clientService.getClients({\n        page: 1,\n        limit: 100\n      }), deviceService.getDevices({\n        page: 1,\n        limit: 100\n      }), serviceService.getServices({\n        page: 1,\n        limit: 100\n      }), deviceService.getDeviceTypes(), deviceService.getBrands()]);\n      setClients(clientsRes.data.clients || []);\n      setDevices(devicesRes.data.devices || []);\n      setServices(servicesRes.data.services || []);\n      setDeviceTypes(typesRes.data || []);\n      setBrands(brandsRes.data || []);\n    } catch (error) {\n      var _error$response3;\n      console.error('Error loading initial data:', error);\n      if (((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : _error$response3.status) === 401) {\n        localStorage.removeItem('token');\n        navigate('/login');\n      } else {\n        setError('Ошибка при загрузке данных');\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleFormChange = (field, value) => {\n    setFormData(prev => ({\n      ...prev,\n      [field]: value\n    }));\n  };\n  const handleServiceToggle = serviceId => {\n    setFormData(prev => {\n      const services = [...prev.services];\n      const index = services.indexOf(serviceId);\n      if (index > -1) {\n        services.splice(index, 1);\n      } else {\n        services.push(serviceId);\n      }\n      return {\n        ...prev,\n        services\n      };\n    });\n  };\n  const handleNewClientChange = (field, value) => {\n    setNewClient(prev => ({\n      ...prev,\n      [field]: value\n    }));\n  };\n  const handleNewDeviceChange = (field, value) => {\n    setNewDevice(prev => ({\n      ...prev,\n      [field]: value\n    }));\n  };\n  const createNewClient = async () => {\n    try {\n      // Валидация\n      if (!newClient.name.trim() || !newClient.phone.trim()) {\n        setError('Заполните обязательные поля: имя и телефон');\n        return;\n      }\n      const clientData = {\n        name: newClient.name,\n        phone: newClient.phone,\n        email: newClient.email || `${newClient.phone}@client.com`,\n        address: newClient.address || 'Не указан'\n      };\n      const response = await clientService.createClient(clientData);\n      setClients(prev => [...prev, response.data]);\n      setFormData(prev => ({\n        ...prev,\n        client_id: response.data.id_client\n      }));\n      setShowNewClient(false);\n      setNewClient({\n        name: '',\n        phone: '',\n        email: '',\n        address: ''\n      });\n      setSuccess('Клиент успешно создан!');\n    } catch (error) {\n      var _error$response4, _error$response4$data;\n      console.error('Error creating client:', error);\n      setError('Ошибка при создании клиента: ' + (((_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : (_error$response4$data = _error$response4.data) === null || _error$response4$data === void 0 ? void 0 : _error$response4$data.error) || error.message || 'неизвестная ошибка'));\n    }\n  };\n  const createNewDevice = async () => {\n    try {\n      if (!newDevice.id_type || !newDevice.id_brand || !newDevice.model.trim()) {\n        setError('Заполните обязательные поля: тип, бренд и модель');\n        return;\n      }\n      const response = await deviceService.createDevice({\n        id_type: newDevice.id_type,\n        id_brand: newDevice.id_brand,\n        model: newDevice.model,\n        serial_number: newDevice.serial_number || ''\n      });\n      setDevices(prev => [...prev, response.data]);\n      setFormData(prev => ({\n        ...prev,\n        device_id: response.data.id_device\n      }));\n      setShowNewDevice(false);\n      setNewDevice({\n        id_type: '',\n        id_brand: '',\n        model: '',\n        serial_number: ''\n      });\n      setSuccess('Устройство успешно создано!');\n    } catch (error) {\n      var _error$response5, _error$response5$data;\n      console.error('Error creating device:', error);\n      setError('Ошибка при создании устройства: ' + (((_error$response5 = error.response) === null || _error$response5 === void 0 ? void 0 : (_error$response5$data = _error$response5.data) === null || _error$response5$data === void 0 ? void 0 : _error$response5$data.error) || error.message || 'неизвестная ошибка'));\n    }\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!formData.client_id || !formData.device_id || !formData.problem_description.trim()) {\n      setError('Заполните обязательные поля: клиент, устройство и описание проблемы');\n      return;\n    }\n    try {\n      setSubmitting(true);\n      setError('');\n\n      // ПРАВИЛЬНАЯ СТРУКТУРА ДАННЫХ СОГЛАСНО ВАЛИДАЦИИ НА БЭКЕНДЕ\n      const orderData = {\n        client_id: parseInt(formData.client_id),\n        // client_id, а не id_client\n        device_id: parseInt(formData.device_id),\n        // device_id, а не id_device\n        problem_description: formData.problem_description,\n        services: formData.services // опционально, для добавления услуг\n      };\n      console.log('Sending order data to backend:', orderData);\n      const response = await orderService.createOrder(orderData);\n      console.log('Order created successfully:', response.data);\n      setSuccess('Заказ успешно создан!');\n      setTimeout(() => {\n        navigate('/orders');\n      }, 2000);\n    } catch (error) {\n      var _error$response6, _error$response7, _error$response8;\n      console.error('Error creating order:', error);\n      console.error('Error response:', (_error$response6 = error.response) === null || _error$response6 === void 0 ? void 0 : _error$response6.data);\n      if (((_error$response7 = error.response) === null || _error$response7 === void 0 ? void 0 : _error$response7.status) === 401) {\n        localStorage.removeItem('token');\n        navigate('/login');\n      } else if (((_error$response8 = error.response) === null || _error$response8 === void 0 ? void 0 : _error$response8.status) === 400) {\n        // Детальная обработка ошибок валидации\n        const errorData = error.response.data;\n        if (errorData.errors && Array.isArray(errorData.errors)) {\n          const validationErrors = errorData.errors.map(err => err.msg).join(', ');\n          setError(`Ошибка валидации: ${validationErrors}`);\n        } else {\n          setError(`Ошибка при создании заказа: ${errorData.error || 'неверные данные'}`);\n        }\n      } else {\n        var _error$response9, _error$response9$data;\n        setError(((_error$response9 = error.response) === null || _error$response9 === void 0 ? void 0 : (_error$response9$data = _error$response9.data) === null || _error$response9$data === void 0 ? void 0 : _error$response9$data.error) || 'Ошибка при создании заказа');\n      }\n    } finally {\n      setSubmitting(false);\n    }\n  };\n  const getSelectedServices = () => {\n    return services.filter(service => formData.services.includes(service.id_service));\n  };\n  const getTotalPrice = () => {\n    return getSelectedServices().reduce((total, service) => total + parseFloat(service.price || 0), 0);\n  };\n  const clearFromRequest = () => {\n    setFromRequest(null);\n    setFormData({\n      client_id: '',\n      device_id: '',\n      problem_description: '',\n      services: []\n    });\n    setSuccess('Данные из заявки очищены');\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        minHeight: \"400px\",\n        children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 473,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 472,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 471,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"lg\",\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        mb: 3,\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h4\",\n        component: \"h1\",\n        children: [\"\\u041D\\u043E\\u0432\\u044B\\u0439 \\u0437\\u0430\\u043A\\u0430\\u0437 \\u043D\\u0430 \\u0440\\u0435\\u043C\\u043E\\u043D\\u0442\", fromRequest && /*#__PURE__*/_jsxDEV(Chip, {\n          label: \"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0435\\u0442\\u0441\\u044F \\u0438\\u0437 \\u0437\\u0430\\u044F\\u0432\\u043A\\u0438\",\n          color: \"primary\",\n          size: \"small\",\n          sx: {\n            ml: 2\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 485,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 482,\n        columnNumber: 9\n      }, this), fromRequest && /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"outlined\",\n        startIcon: /*#__PURE__*/_jsxDEV(ClearIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 496,\n          columnNumber: 24\n        }, this),\n        onClick: clearFromRequest,\n        children: \"\\u041E\\u0447\\u0438\\u0441\\u0442\\u0438\\u0442\\u044C \\u0434\\u0430\\u043D\\u043D\\u044B\\u0435 \\u0437\\u0430\\u044F\\u0432\\u043A\\u0438\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 494,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 481,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n      severity: \"error\",\n      sx: {\n        mb: 2\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 504,\n      columnNumber: 17\n    }, this), success && /*#__PURE__*/_jsxDEV(Alert, {\n      severity: \"success\",\n      sx: {\n        mb: 2\n      },\n      children: success\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 505,\n      columnNumber: 19\n    }, this), fromRequest && /*#__PURE__*/_jsxDEV(Card, {\n      sx: {\n        mb: 3,\n        bgcolor: 'primary.light',\n        color: 'white'\n      },\n      children: /*#__PURE__*/_jsxDEV(CardContent, {\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            alignItems: 'center'\n          },\n          children: /*#__PURE__*/_jsxDEV(Box, {\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h6\",\n              gutterBottom: true,\n              children: [\"\\u0414\\u0430\\u043D\\u043D\\u044B\\u0435 \\u0438\\u0437 \\u0437\\u0430\\u044F\\u0432\\u043A\\u0438 #\", fromRequest.id_request]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 512,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              children: [\"\\u041A\\u043B\\u0438\\u0435\\u043D\\u0442: \", (_fromRequest$Client = fromRequest.Client) === null || _fromRequest$Client === void 0 ? void 0 : _fromRequest$Client.name, \" | \\u0423\\u0441\\u0442\\u0440\\u043E\\u0439\\u0441\\u0442\\u0432\\u043E: \", fromRequest.device_brand, \" \", fromRequest.device_model, \" | \\u0422\\u0438\\u043F: \", fromRequest.device_type]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 515,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 511,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 510,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 509,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 508,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Paper, {\n      sx: {\n        p: 3\n      },\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        component: \"form\",\n        onSubmit: handleSubmit,\n        children: /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          spacing: 3,\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            children: [/*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                display: 'flex',\n                alignItems: 'center',\n                gap: 2,\n                mb: 2\n              },\n              children: [/*#__PURE__*/_jsxDEV(FormControl, {\n                fullWidth: true,\n                children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                  children: \"\\u041A\\u043B\\u0438\\u0435\\u043D\\u0442 *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 533,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Select, {\n                  value: formData.client_id,\n                  label: \"\\u041A\\u043B\\u0438\\u0435\\u043D\\u0442 *\",\n                  onChange: e => handleFormChange('client_id', e.target.value),\n                  children: clients.map(client => /*#__PURE__*/_jsxDEV(MenuItem, {\n                    value: client.id_client,\n                    children: [client.name, \" - \", client.phone]\n                  }, client.id_client, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 540,\n                    columnNumber: 23\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 534,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 532,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"outlined\",\n                onClick: () => setShowNewClient(!showNewClient),\n                startIcon: /*#__PURE__*/_jsxDEV(AddIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 549,\n                  columnNumber: 30\n                }, this),\n                children: \"\\u041D\\u043E\\u0432\\u044B\\u0439 \\u043A\\u043B\\u0438\\u0435\\u043D\\u0442\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 546,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 531,\n              columnNumber: 15\n            }, this), showNewClient && /*#__PURE__*/_jsxDEV(Card, {\n              variant: \"outlined\",\n              sx: {\n                mb: 2\n              },\n              children: /*#__PURE__*/_jsxDEV(CardContent, {\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"h6\",\n                  gutterBottom: true,\n                  children: \"\\u041D\\u043E\\u0432\\u044B\\u0439 \\u043A\\u043B\\u0438\\u0435\\u043D\\u0442\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 558,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                  container: true,\n                  spacing: 2,\n                  children: [/*#__PURE__*/_jsxDEV(Grid, {\n                    item: true,\n                    xs: 12,\n                    sm: 6,\n                    children: /*#__PURE__*/_jsxDEV(TextField, {\n                      fullWidth: true,\n                      label: \"\\u0418\\u043C\\u044F *\",\n                      value: newClient.name,\n                      onChange: e => handleNewClientChange('name', e.target.value),\n                      error: !newClient.name.trim(),\n                      helperText: !newClient.name.trim() ? \"Обязательное поле\" : \"\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 563,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 562,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                    item: true,\n                    xs: 12,\n                    sm: 6,\n                    children: /*#__PURE__*/_jsxDEV(TextField, {\n                      fullWidth: true,\n                      label: \"\\u0422\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D *\",\n                      value: newClient.phone,\n                      onChange: e => handleNewClientChange('phone', e.target.value),\n                      error: !newClient.phone.trim(),\n                      helperText: !newClient.phone.trim() ? \"Обязательное поле\" : \"\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 573,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 572,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                    item: true,\n                    xs: 12,\n                    sm: 6,\n                    children: /*#__PURE__*/_jsxDEV(TextField, {\n                      fullWidth: true,\n                      label: \"Email\",\n                      type: \"email\",\n                      value: newClient.email,\n                      onChange: e => handleNewClientChange('email', e.target.value)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 583,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 582,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                    item: true,\n                    xs: 12,\n                    sm: 6,\n                    children: /*#__PURE__*/_jsxDEV(TextField, {\n                      fullWidth: true,\n                      label: \"\\u0410\\u0434\\u0440\\u0435\\u0441\",\n                      value: newClient.address,\n                      onChange: e => handleNewClientChange('address', e.target.value)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 592,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 591,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                    item: true,\n                    xs: 12,\n                    children: /*#__PURE__*/_jsxDEV(Button, {\n                      variant: \"contained\",\n                      onClick: createNewClient,\n                      disabled: !newClient.name.trim() || !newClient.phone.trim(),\n                      children: \"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C \\u043A\\u043B\\u0438\\u0435\\u043D\\u0442\\u0430\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 600,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 599,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 561,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 557,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 556,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 530,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            children: [/*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                display: 'flex',\n                alignItems: 'center',\n                gap: 2,\n                mb: 2\n              },\n              children: [/*#__PURE__*/_jsxDEV(FormControl, {\n                fullWidth: true,\n                children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                  children: \"\\u0423\\u0441\\u0442\\u0440\\u043E\\u0439\\u0441\\u0442\\u0432\\u043E *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 618,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Select, {\n                  value: formData.device_id,\n                  label: \"\\u0423\\u0441\\u0442\\u0440\\u043E\\u0439\\u0441\\u0442\\u0432\\u043E *\",\n                  onChange: e => handleFormChange('device_id', e.target.value),\n                  children: devices.map(device => {\n                    var _device$Brand, _device$DeviceType;\n                    return /*#__PURE__*/_jsxDEV(MenuItem, {\n                      value: device.id_device,\n                      children: [(_device$Brand = device.Brand) === null || _device$Brand === void 0 ? void 0 : _device$Brand.name, \" \", device.model, \" (\", (_device$DeviceType = device.DeviceType) === null || _device$DeviceType === void 0 ? void 0 : _device$DeviceType.name, \")\"]\n                    }, device.id_device, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 625,\n                      columnNumber: 23\n                    }, this);\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 619,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 617,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"outlined\",\n                onClick: () => setShowNewDevice(!showNewDevice),\n                startIcon: /*#__PURE__*/_jsxDEV(AddIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 634,\n                  columnNumber: 30\n                }, this),\n                children: \"\\u041D\\u043E\\u0432\\u043E\\u0435 \\u0443\\u0441\\u0442\\u0440\\u043E\\u0439\\u0441\\u0442\\u0432\\u043E\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 631,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 616,\n              columnNumber: 15\n            }, this), showNewDevice && /*#__PURE__*/_jsxDEV(Card, {\n              variant: \"outlined\",\n              sx: {\n                mb: 2\n              },\n              children: /*#__PURE__*/_jsxDEV(CardContent, {\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"h6\",\n                  gutterBottom: true,\n                  children: \"\\u041D\\u043E\\u0432\\u043E\\u0435 \\u0443\\u0441\\u0442\\u0440\\u043E\\u0439\\u0441\\u0442\\u0432\\u043E\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 643,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                  container: true,\n                  spacing: 2,\n                  children: [/*#__PURE__*/_jsxDEV(Grid, {\n                    item: true,\n                    xs: 12,\n                    sm: 6,\n                    children: /*#__PURE__*/_jsxDEV(FormControl, {\n                      fullWidth: true,\n                      children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                        children: \"\\u0422\\u0438\\u043F \\u0443\\u0441\\u0442\\u0440\\u043E\\u0439\\u0441\\u0442\\u0432\\u0430 *\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 649,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(Select, {\n                        value: newDevice.id_type,\n                        label: \"\\u0422\\u0438\\u043F \\u0443\\u0441\\u0442\\u0440\\u043E\\u0439\\u0441\\u0442\\u0432\\u0430 *\",\n                        onChange: e => handleNewDeviceChange('id_type', e.target.value),\n                        children: deviceTypes.map(type => /*#__PURE__*/_jsxDEV(MenuItem, {\n                          value: type.id_type,\n                          children: type.name\n                        }, type.id_type, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 656,\n                          columnNumber: 31\n                        }, this))\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 650,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 648,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 647,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                    item: true,\n                    xs: 12,\n                    sm: 6,\n                    children: /*#__PURE__*/_jsxDEV(FormControl, {\n                      fullWidth: true,\n                      children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                        children: \"\\u0411\\u0440\\u0435\\u043D\\u0434 *\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 665,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(Select, {\n                        value: newDevice.id_brand,\n                        label: \"\\u0411\\u0440\\u0435\\u043D\\u0434 *\",\n                        onChange: e => handleNewDeviceChange('id_brand', e.target.value),\n                        children: brands.map(brand => /*#__PURE__*/_jsxDEV(MenuItem, {\n                          value: brand.id_brand,\n                          children: brand.name\n                        }, brand.id_brand, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 672,\n                          columnNumber: 31\n                        }, this))\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 666,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 664,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 663,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                    item: true,\n                    xs: 12,\n                    sm: 6,\n                    children: /*#__PURE__*/_jsxDEV(TextField, {\n                      fullWidth: true,\n                      label: \"\\u041C\\u043E\\u0434\\u0435\\u043B\\u044C *\",\n                      value: newDevice.model,\n                      onChange: e => handleNewDeviceChange('model', e.target.value),\n                      error: !newDevice.model.trim(),\n                      helperText: !newDevice.model.trim() ? \"Обязательное поле\" : \"\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 680,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 679,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                    item: true,\n                    xs: 12,\n                    sm: 6,\n                    children: /*#__PURE__*/_jsxDEV(TextField, {\n                      fullWidth: true,\n                      label: \"\\u0421\\u0435\\u0440\\u0438\\u0439\\u043D\\u044B\\u0439 \\u043D\\u043E\\u043C\\u0435\\u0440\",\n                      value: newDevice.serial_number,\n                      onChange: e => handleNewDeviceChange('serial_number', e.target.value)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 690,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 689,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                    item: true,\n                    xs: 12,\n                    children: /*#__PURE__*/_jsxDEV(Button, {\n                      variant: \"contained\",\n                      onClick: createNewDevice,\n                      disabled: !newDevice.id_type || !newDevice.id_brand || !newDevice.model.trim(),\n                      children: \"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C \\u0443\\u0441\\u0442\\u0440\\u043E\\u0439\\u0441\\u0442\\u0432\\u043E\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 698,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 697,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 646,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 642,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 641,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 615,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              fullWidth: true,\n              multiline: true,\n              rows: 4,\n              label: \"\\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435 \\u043F\\u0440\\u043E\\u0431\\u043B\\u0435\\u043C\\u044B *\",\n              value: formData.problem_description,\n              onChange: e => handleFormChange('problem_description', e.target.value),\n              error: !formData.problem_description.trim(),\n              helperText: !formData.problem_description.trim() ? \"Обязательное поле\" : \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 714,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 713,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h6\",\n              gutterBottom: true,\n              children: \"\\u0423\\u0441\\u043B\\u0443\\u0433\\u0438\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 728,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              container: true,\n              spacing: 2,\n              children: services.map(service => /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                sm: 6,\n                md: 4,\n                children: /*#__PURE__*/_jsxDEV(Card, {\n                  variant: formData.services.includes(service.id_service) ? \"elevated\" : \"outlined\",\n                  sx: {\n                    cursor: 'pointer',\n                    border: formData.services.includes(service.id_service) ? '2px solid' : '1px solid',\n                    borderColor: formData.services.includes(service.id_service) ? 'primary.main' : 'divider'\n                  },\n                  onClick: () => handleServiceToggle(service.id_service),\n                  children: /*#__PURE__*/_jsxDEV(CardContent, {\n                    children: [/*#__PURE__*/_jsxDEV(Typography, {\n                      variant: \"subtitle1\",\n                      gutterBottom: true,\n                      children: service.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 744,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                      variant: \"body2\",\n                      color: \"textSecondary\",\n                      gutterBottom: true,\n                      children: service.description\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 747,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(Box, {\n                      sx: {\n                        display: 'flex',\n                        justifyContent: 'space-between',\n                        alignItems: 'center'\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(Typography, {\n                        variant: \"h6\",\n                        color: \"primary\",\n                        children: [service.price, \" \\u20BD\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 751,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(Chip, {\n                        label: formData.services.includes(service.id_service) ? \"Выбрано\" : \"Выбрать\",\n                        color: formData.services.includes(service.id_service) ? \"primary\" : \"default\",\n                        size: \"small\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 754,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 750,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 743,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 734,\n                  columnNumber: 21\n                }, this)\n              }, service.id_service, false, {\n                fileName: _jsxFileName,\n                lineNumber: 733,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 731,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 727,\n            columnNumber: 13\n          }, this), formData.services.length > 0 && /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              sx: {\n                bgcolor: 'primary.light',\n                color: 'white'\n              },\n              children: /*#__PURE__*/_jsxDEV(CardContent, {\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"h6\",\n                  gutterBottom: true,\n                  children: \"\\u041F\\u0440\\u0435\\u0434\\u0432\\u0430\\u0440\\u0438\\u0442\\u0435\\u043B\\u044C\\u043D\\u0430\\u044F \\u0441\\u0442\\u043E\\u0438\\u043C\\u043E\\u0441\\u0442\\u044C\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 772,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"h4\",\n                  children: [getTotalPrice(), \" \\u20BD\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 775,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body2\",\n                  children: [\"\\u0412\\u044B\\u0431\\u0440\\u0430\\u043D\\u043E \\u0443\\u0441\\u043B\\u0443\\u0433: \", formData.services.length]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 778,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 771,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 770,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 769,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            children: /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                display: 'flex',\n                gap: 2,\n                justifyContent: 'flex-end'\n              },\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                variant: \"outlined\",\n                onClick: () => navigate('/orders'),\n                children: \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 789,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                type: \"submit\",\n                variant: \"contained\",\n                disabled: submitting,\n                startIcon: submitting ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n                  size: 20\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 799,\n                  columnNumber: 43\n                }, this) : /*#__PURE__*/_jsxDEV(SaveIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 799,\n                  columnNumber: 76\n                }, this),\n                children: submitting ? 'Создание...' : 'Создать заказ'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 795,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 788,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 787,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 528,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 527,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 526,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 480,\n    columnNumber: 5\n  }, this);\n};\n_s(NewOrder, \"cxKP2D++qBGtbowNMi5xjCEYCOw=\", false, function () {\n  return [useNavigate, useLocation];\n});\n_c = NewOrder;\nexport default NewOrder;\nvar _c;\n$RefreshReg$(_c, \"NewOrder\");","map":{"version":3,"names":["React","useState","useEffect","Container","Paper","TextField","Button","Typography","Box","Grid","FormControl","InputLabel","Select","MenuItem","Alert","CircularProgress","Card","CardContent","Chip","Add","AddIcon","Save","SaveIcon","Clear","ClearIcon","useNavigate","useLocation","orderService","clientService","deviceService","serviceService","jsxDEV","_jsxDEV","NewOrder","_s","_fromRequest$Client","navigate","location","loading","setLoading","submitting","setSubmitting","error","setError","success","setSuccess","clients","setClients","devices","setDevices","services","setServices","deviceTypes","setDeviceTypes","brands","setBrands","formData","setFormData","client_id","device_id","problem_description","newClient","setNewClient","name","phone","email","address","newDevice","setNewDevice","id_type","id_brand","model","serial_number","showNewClient","setShowNewClient","showNewDevice","setShowNewDevice","fromRequest","setFromRequest","_location$state","token","localStorage","getItem","loadInitialData","state","request","prefillFormFromRequest","console","log","client","find","c","contact_phone","contact_email","_request$Client","_request$Client2","_request$Client2$name","_request$contact_phon","_request$contact_emai","_request$address","Client","clientData","trim","Error","length","includes","clientResponse","createClient","data","prev","clientError","refreshedClients","getClients","page","limit","_clientError$response","_clientError$response2","response","message","device","d","_d$Brand","device_model","Brand","device_brand","brand","type","device_type","deviceType","t","typeResponse","createDeviceType","description","typeError","warn","defaultTypeResponse","b","brandResponse","createBrand","brandError","defaultBrandResponse","deviceResponse","createDevice","deviceError","_deviceError$response","_deviceError$response2","id_client","id_device","_error$response","_error$response2","status","removeItem","errorData","errors","validationErrors","Object","values","join","clientsRes","devicesRes","servicesRes","typesRes","brandsRes","Promise","all","getDevices","getServices","getDeviceTypes","getBrands","_error$response3","handleFormChange","field","value","handleServiceToggle","serviceId","index","indexOf","splice","push","handleNewClientChange","handleNewDeviceChange","createNewClient","_error$response4","_error$response4$data","createNewDevice","_error$response5","_error$response5$data","handleSubmit","e","preventDefault","orderData","parseInt","createOrder","setTimeout","_error$response6","_error$response7","_error$response8","Array","isArray","map","err","msg","_error$response9","_error$response9$data","getSelectedServices","filter","service","id_service","getTotalPrice","reduce","total","parseFloat","price","clearFromRequest","children","display","justifyContent","alignItems","minHeight","fileName","_jsxFileName","lineNumber","columnNumber","maxWidth","sx","mb","variant","component","label","color","size","ml","startIcon","onClick","severity","bgcolor","gutterBottom","id_request","p","onSubmit","container","spacing","item","xs","gap","fullWidth","onChange","target","sm","helperText","disabled","_device$Brand","_device$DeviceType","DeviceType","multiline","rows","md","cursor","border","borderColor","_c","$RefreshReg$"],"sources":["F:/repair_shop/frontend/src/pages/NewOrder.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport {\r\n  Container,\r\n  Paper,\r\n  TextField,\r\n  Button,\r\n  Typography,\r\n  Box,\r\n  Grid,\r\n  FormControl,\r\n  InputLabel,\r\n  Select,\r\n  MenuItem,\r\n  Alert,\r\n  CircularProgress,\r\n  Card,\r\n  CardContent,\r\n  Chip\r\n} from '@mui/material';\r\nimport {\r\n  Add as AddIcon,\r\n  Save as SaveIcon,\r\n  Clear as ClearIcon\r\n} from '@mui/icons-material';\r\nimport { useNavigate, useLocation } from 'react-router-dom';\r\nimport { orderService, clientService, deviceService, serviceService } from '../services/api';\r\n\r\nconst NewOrder = () => {\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const [loading, setLoading] = useState(false);\r\n  const [submitting, setSubmitting] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [success, setSuccess] = useState('');\r\n\r\n  // Данные для форм\r\n  const [clients, setClients] = useState([]);\r\n  const [devices, setDevices] = useState([]);\r\n  const [services, setServices] = useState([]);\r\n  const [deviceTypes, setDeviceTypes] = useState([]);\r\n  const [brands, setBrands] = useState([]);\r\n\r\n  // Форма заказа\r\n  const [formData, setFormData] = useState({\r\n    client_id: '',\r\n    device_id: '',\r\n    problem_description: '',\r\n    services: []\r\n  });\r\n\r\n  // Форма нового клиента\r\n  const [newClient, setNewClient] = useState({\r\n    name: '',\r\n    phone: '',\r\n    email: '',\r\n    address: ''\r\n  });\r\n\r\n  // Форма нового устройства\r\n  const [newDevice, setNewDevice] = useState({\r\n    id_type: '',\r\n    id_brand: '',\r\n    model: '',\r\n    serial_number: ''\r\n  });\r\n\r\n  const [showNewClient, setShowNewClient] = useState(false);\r\n  const [showNewDevice, setShowNewDevice] = useState(false);\r\n  const [fromRequest, setFromRequest] = useState(null);\r\n\r\n  useEffect(() => {\r\n    // Проверяем авторизацию перед загрузкой данных\r\n    const token = localStorage.getItem('token');\r\n    if (!token) {\r\n      navigate('/login');\r\n      return;\r\n    }\r\n\r\n    loadInitialData();\r\n    \r\n    if (location.state?.fromRequest) {\r\n      const request = location.state.fromRequest;\r\n      setFromRequest(request);\r\n      prefillFormFromRequest(request);\r\n    }\r\n  }, [location, navigate]);\r\n\r\n  const prefillFormFromRequest = async (request) => {\r\n    console.log('Prefilling form from request:', request);\r\n    \r\n    try {\r\n      // Проверяем авторизацию\r\n      const token = localStorage.getItem('token');\r\n      if (!token) {\r\n        setError('Требуется авторизация');\r\n        navigate('/login');\r\n        return;\r\n      }\r\n\r\n      // Ищем существующего клиента по телефону или email\r\n      let client = clients.find(c => \r\n        (request.contact_phone && c.phone === request.contact_phone) || \r\n        (request.contact_email && c.email === request.contact_email)\r\n      );\r\n      \r\n      // Если клиент не найден, создаем нового с правильной структурой данных\r\n      if (!client) {\r\n        console.log('Creating new client from request data:', {\r\n          name: request.Client?.name,\r\n          phone: request.contact_phone,\r\n          email: request.contact_email\r\n        });\r\n\r\n        // Подготавливаем данные клиента с валидацией\r\n        const clientData = {\r\n          name: request.Client?.name?.trim() || `Клиент ${request.contact_phone || 'без имени'}`,\r\n          phone: request.contact_phone?.trim() || '',\r\n          email: request.contact_email?.trim() || (request.contact_phone ? `${request.contact_phone}@temp.com` : 'unknown@temp.com'),\r\n          address: request.address?.trim() || 'Адрес не указан'\r\n        };\r\n\r\n        // Валидация обязательных полей\r\n        if (!clientData.phone) {\r\n          throw new Error('Недостаточно данных для создания клиента: отсутствует телефон');\r\n        }\r\n\r\n        if (!clientData.name || clientData.name.length < 2) {\r\n          clientData.name = `Клиент ${clientData.phone}`;\r\n        }\r\n\r\n        // Проверяем email\r\n        if (!clientData.email.includes('@')) {\r\n          clientData.email = `${clientData.phone}@temp.com`;\r\n        }\r\n\r\n        console.log('Sending client data to API:', clientData);\r\n        \r\n        try {\r\n          const clientResponse = await clientService.createClient(clientData);\r\n          client = clientResponse.data;\r\n          setClients(prev => [...prev, client]);\r\n          console.log('Client created successfully:', client);\r\n        } catch (clientError) {\r\n          console.error('Error creating client:', clientError);\r\n          \r\n          // Если ошибка создания клиента, пробуем найти снова (возможно создался параллельно)\r\n          const refreshedClients = await clientService.getClients({ page: 1, limit: 100 });\r\n          setClients(refreshedClients.data.clients || []);\r\n          \r\n          client = refreshedClients.data.clients.find(c => \r\n            (request.contact_phone && c.phone === request.contact_phone) || \r\n            (request.contact_email && c.email === request.contact_email)\r\n          );\r\n          \r\n          if (!client) {\r\n            throw new Error(`Не удалось создать клиента: ${clientError.response?.data?.error || clientError.message}`);\r\n          }\r\n        }\r\n      }\r\n\r\n      // Ищем существующее устройство\r\n      let device = devices.find(d => \r\n        d.model === request.device_model && \r\n        d.Brand?.name === request.device_brand\r\n      );\r\n\r\n      // Если устройство не найдено, создаем новое\r\n      if (!device && request.device_model && request.device_brand) {\r\n        console.log('Creating new device from request data:', {\r\n          model: request.device_model,\r\n          brand: request.device_brand,\r\n          type: request.device_type\r\n        });\r\n\r\n        // Находим или создаем тип устройства\r\n        let deviceType = deviceTypes.find(t => t.name === request.device_type);\r\n        if (!deviceType && request.device_type) {\r\n          try {\r\n            const typeResponse = await deviceService.createDeviceType({\r\n              name: request.device_type,\r\n              description: `Тип устройства для ${request.device_brand}`\r\n            });\r\n            deviceType = typeResponse.data;\r\n            setDeviceTypes(prev => [...prev, deviceType]);\r\n          } catch (typeError) {\r\n            console.warn('Не удалось создать тип устройства:', typeError);\r\n            // Используем первый доступный тип или создаем базовый\r\n            deviceType = deviceTypes[0];\r\n            if (!deviceType) {\r\n              const defaultTypeResponse = await deviceService.createDeviceType({\r\n                name: 'Другое',\r\n                description: 'Тип устройства по умолчанию'\r\n              });\r\n              deviceType = defaultTypeResponse.data;\r\n              setDeviceTypes(prev => [...prev, deviceType]);\r\n            }\r\n          }\r\n        }\r\n\r\n        // Находим или создаем бренд\r\n        let brand = brands.find(b => b.name === request.device_brand);\r\n        if (!brand && request.device_brand) {\r\n          try {\r\n            const brandResponse = await deviceService.createBrand({\r\n              name: request.device_brand\r\n            });\r\n            brand = brandResponse.data;\r\n            setBrands(prev => [...prev, brand]);\r\n          } catch (brandError) {\r\n            console.warn('Не удалось создать бренд:', brandError);\r\n            // Используем первый доступный бренд или создаем базовый\r\n            brand = brands[0];\r\n            if (!brand) {\r\n              const defaultBrandResponse = await deviceService.createBrand({\r\n                name: 'Другой'\r\n              });\r\n              brand = defaultBrandResponse.data;\r\n              setBrands(prev => [...prev, brand]);\r\n            }\r\n          }\r\n        }\r\n\r\n        if (deviceType && brand) {\r\n          try {\r\n            const deviceResponse = await deviceService.createDevice({\r\n              id_type: deviceType.id_type,\r\n              id_brand: brand.id_brand,\r\n              model: request.device_model || 'Модель не указана',\r\n              serial_number: request.serial_number || ''\r\n            });\r\n            device = deviceResponse.data;\r\n            setDevices(prev => [...prev, device]);\r\n            console.log('Device created successfully:', device);\r\n          } catch (deviceError) {\r\n            console.error('Error creating device:', deviceError);\r\n            throw new Error(`Не удалось создать устройство: ${deviceError.response?.data?.error || deviceError.message}`);\r\n          }\r\n        }\r\n      }\r\n\r\n      // Заполняем форму данными\r\n      if (client && device) {\r\n        setFormData({\r\n          client_id: client.id_client,\r\n          device_id: device.id_device,\r\n          problem_description: request.problem_description || 'Описание проблемы не указано',\r\n          services: []\r\n        });\r\n        setSuccess('Данные из заявки автоматически заполнены!');\r\n      } else {\r\n        setError('Не удалось создать необходимые данные для заказа');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error pre-filling form:', error);\r\n      \r\n      // Более детальная обработка ошибок\r\n      if (error.response?.status === 401) {\r\n        localStorage.removeItem('token');\r\n        setError('Сессия истекла. Пожалуйста, войдите снова.');\r\n        navigate('/login');\r\n      } else if (error.response?.status === 400) {\r\n        // Парсим ошибку валидации\r\n        const errorData = error.response.data;\r\n        if (errorData.errors) {\r\n          // Если есть детали ошибок валидации\r\n          const validationErrors = Object.values(errorData.errors).join(', ');\r\n          setError(`Ошибка валидации данных: ${validationErrors}`);\r\n        } else {\r\n          setError(`Ошибка в данных: ${errorData.error || 'неверный формат данных'}`);\r\n        }\r\n      } else {\r\n        setError(`Ошибка при заполнении данных из заявки: ${error.message || 'неизвестная ошибка'}`);\r\n      }\r\n    }\r\n  };\r\n\r\n  const loadInitialData = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const [clientsRes, devicesRes, servicesRes, typesRes, brandsRes] = await Promise.all([\r\n        clientService.getClients({ page: 1, limit: 100 }),\r\n        deviceService.getDevices({ page: 1, limit: 100 }),\r\n        serviceService.getServices({ page: 1, limit: 100 }),\r\n        deviceService.getDeviceTypes(),\r\n        deviceService.getBrands()\r\n      ]);\r\n\r\n      setClients(clientsRes.data.clients || []);\r\n      setDevices(devicesRes.data.devices || []);\r\n      setServices(servicesRes.data.services || []);\r\n      setDeviceTypes(typesRes.data || []);\r\n      setBrands(brandsRes.data || []);\r\n    } catch (error) {\r\n      console.error('Error loading initial data:', error);\r\n      if (error.response?.status === 401) {\r\n        localStorage.removeItem('token');\r\n        navigate('/login');\r\n      } else {\r\n        setError('Ошибка при загрузке данных');\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleFormChange = (field, value) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [field]: value\r\n    }));\r\n  };\r\n\r\n  const handleServiceToggle = (serviceId) => {\r\n    setFormData(prev => {\r\n      const services = [...prev.services];\r\n      const index = services.indexOf(serviceId);\r\n      \r\n      if (index > -1) {\r\n        services.splice(index, 1);\r\n      } else {\r\n        services.push(serviceId);\r\n      }\r\n      \r\n      return { ...prev, services };\r\n    });\r\n  };\r\n\r\n  const handleNewClientChange = (field, value) => {\r\n    setNewClient(prev => ({\r\n      ...prev,\r\n      [field]: value\r\n    }));\r\n  };\r\n\r\n  const handleNewDeviceChange = (field, value) => {\r\n    setNewDevice(prev => ({\r\n      ...prev,\r\n      [field]: value\r\n    }));\r\n  };\r\n\r\n  const createNewClient = async () => {\r\n    try {\r\n      // Валидация\r\n      if (!newClient.name.trim() || !newClient.phone.trim()) {\r\n        setError('Заполните обязательные поля: имя и телефон');\r\n        return;\r\n      }\r\n\r\n      const clientData = {\r\n        name: newClient.name,\r\n        phone: newClient.phone,\r\n        email: newClient.email || `${newClient.phone}@client.com`,\r\n        address: newClient.address || 'Не указан'\r\n      };\r\n\r\n      const response = await clientService.createClient(clientData);\r\n      setClients(prev => [...prev, response.data]);\r\n      setFormData(prev => ({ ...prev, client_id: response.data.id_client }));\r\n      setShowNewClient(false);\r\n      setNewClient({ name: '', phone: '', email: '', address: '' });\r\n      setSuccess('Клиент успешно создан!');\r\n    } catch (error) {\r\n      console.error('Error creating client:', error);\r\n      setError('Ошибка при создании клиента: ' + \r\n        (error.response?.data?.error || error.message || 'неизвестная ошибка'));\r\n    }\r\n  };\r\n\r\n  const createNewDevice = async () => {\r\n    try {\r\n      if (!newDevice.id_type || !newDevice.id_brand || !newDevice.model.trim()) {\r\n        setError('Заполните обязательные поля: тип, бренд и модель');\r\n        return;\r\n      }\r\n\r\n      const response = await deviceService.createDevice({\r\n        id_type: newDevice.id_type,\r\n        id_brand: newDevice.id_brand,\r\n        model: newDevice.model,\r\n        serial_number: newDevice.serial_number || ''\r\n      });\r\n      \r\n      setDevices(prev => [...prev, response.data]);\r\n      setFormData(prev => ({ ...prev, device_id: response.data.id_device }));\r\n      setShowNewDevice(false);\r\n      setNewDevice({ id_type: '', id_brand: '', model: '', serial_number: '' });\r\n      setSuccess('Устройство успешно создано!');\r\n    } catch (error) {\r\n      console.error('Error creating device:', error);\r\n      setError('Ошибка при создании устройства: ' + \r\n        (error.response?.data?.error || error.message || 'неизвестная ошибка'));\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n  e.preventDefault();\r\n  \r\n  if (!formData.client_id || !formData.device_id || !formData.problem_description.trim()) {\r\n    setError('Заполните обязательные поля: клиент, устройство и описание проблемы');\r\n    return;\r\n  }\r\n\r\n  try {\r\n    setSubmitting(true);\r\n    setError('');\r\n    \r\n    // ПРАВИЛЬНАЯ СТРУКТУРА ДАННЫХ СОГЛАСНО ВАЛИДАЦИИ НА БЭКЕНДЕ\r\n    const orderData = {\r\n      client_id: parseInt(formData.client_id), // client_id, а не id_client\r\n      device_id: parseInt(formData.device_id), // device_id, а не id_device\r\n      problem_description: formData.problem_description,\r\n      services: formData.services // опционально, для добавления услуг\r\n    };\r\n\r\n    console.log('Sending order data to backend:', orderData);\r\n    \r\n    const response = await orderService.createOrder(orderData);\r\n    console.log('Order created successfully:', response.data);\r\n    \r\n    setSuccess('Заказ успешно создан!');\r\n    setTimeout(() => {\r\n      navigate('/orders');\r\n    }, 2000);\r\n    \r\n  } catch (error) {\r\n    console.error('Error creating order:', error);\r\n    console.error('Error response:', error.response?.data);\r\n    \r\n    if (error.response?.status === 401) {\r\n      localStorage.removeItem('token');\r\n      navigate('/login');\r\n    } else if (error.response?.status === 400) {\r\n      // Детальная обработка ошибок валидации\r\n      const errorData = error.response.data;\r\n      if (errorData.errors && Array.isArray(errorData.errors)) {\r\n        const validationErrors = errorData.errors.map(err => err.msg).join(', ');\r\n        setError(`Ошибка валидации: ${validationErrors}`);\r\n      } else {\r\n        setError(`Ошибка при создании заказа: ${errorData.error || 'неверные данные'}`);\r\n      }\r\n    } else {\r\n      setError(error.response?.data?.error || 'Ошибка при создании заказа');\r\n    }\r\n  } finally {\r\n    setSubmitting(false);\r\n  }\r\n};\r\n\r\n  const getSelectedServices = () => {\r\n    return services.filter(service => formData.services.includes(service.id_service));\r\n  };\r\n\r\n  const getTotalPrice = () => {\r\n    return getSelectedServices().reduce((total, service) => total + parseFloat(service.price || 0), 0);\r\n  };\r\n\r\n  const clearFromRequest = () => {\r\n    setFromRequest(null);\r\n    setFormData({\r\n      client_id: '',\r\n      device_id: '',\r\n      problem_description: '',\r\n      services: []\r\n    });\r\n    setSuccess('Данные из заявки очищены');\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <Container>\r\n        <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" minHeight=\"400px\">\r\n          <CircularProgress />\r\n        </Box>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Container maxWidth=\"lg\">\r\n      <Box sx={{ mb: 3, display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n        <Typography variant=\"h4\" component=\"h1\">\r\n          Новый заказ на ремонт\r\n          {fromRequest && (\r\n            <Chip \r\n              label=\"Создается из заявки\" \r\n              color=\"primary\" \r\n              size=\"small\" \r\n              sx={{ ml: 2 }}\r\n            />\r\n          )}\r\n        </Typography>\r\n        {fromRequest && (\r\n          <Button\r\n            variant=\"outlined\"\r\n            startIcon={<ClearIcon />}\r\n            onClick={clearFromRequest}\r\n          >\r\n            Очистить данные заявки\r\n          </Button>\r\n        )}\r\n      </Box>\r\n\r\n      {error && <Alert severity=\"error\" sx={{ mb: 2 }}>{error}</Alert>}\r\n      {success && <Alert severity=\"success\" sx={{ mb: 2 }}>{success}</Alert>}\r\n\r\n      {fromRequest && (\r\n        <Card sx={{ mb: 3, bgcolor: 'primary.light', color: 'white' }}>\r\n          <CardContent>\r\n            <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n              <Box>\r\n                <Typography variant=\"h6\" gutterBottom>\r\n                  Данные из заявки #{fromRequest.id_request}\r\n                </Typography>\r\n                <Typography variant=\"body2\">\r\n                  Клиент: {fromRequest.Client?.name} | \r\n                  Устройство: {fromRequest.device_brand} {fromRequest.device_model} | \r\n                  Тип: {fromRequest.device_type}\r\n                </Typography>\r\n              </Box>\r\n            </Box>\r\n          </CardContent>\r\n        </Card>\r\n      )}\r\n\r\n      <Paper sx={{ p: 3 }}>\r\n        <Box component=\"form\" onSubmit={handleSubmit}>\r\n          <Grid container spacing={3}>\r\n            {/* Выбор клиента */}\r\n            <Grid item xs={12}>\r\n              <Box sx={{ display: 'flex', alignItems: 'center', gap: 2, mb: 2 }}>\r\n                <FormControl fullWidth>\r\n                  <InputLabel>Клиент *</InputLabel>\r\n                  <Select\r\n                    value={formData.client_id}\r\n                    label=\"Клиент *\"\r\n                    onChange={(e) => handleFormChange('client_id', e.target.value)}\r\n                  >\r\n                    {clients.map(client => (\r\n                      <MenuItem key={client.id_client} value={client.id_client}>\r\n                        {client.name} - {client.phone}\r\n                      </MenuItem>\r\n                    ))}\r\n                  </Select>\r\n                </FormControl>\r\n                <Button\r\n                  variant=\"outlined\"\r\n                  onClick={() => setShowNewClient(!showNewClient)}\r\n                  startIcon={<AddIcon />}\r\n                >\r\n                  Новый клиент\r\n                </Button>\r\n              </Box>\r\n\r\n              {showNewClient && (\r\n                <Card variant=\"outlined\" sx={{ mb: 2 }}>\r\n                  <CardContent>\r\n                    <Typography variant=\"h6\" gutterBottom>\r\n                      Новый клиент\r\n                    </Typography>\r\n                    <Grid container spacing={2}>\r\n                      <Grid item xs={12} sm={6}>\r\n                        <TextField\r\n                          fullWidth\r\n                          label=\"Имя *\"\r\n                          value={newClient.name}\r\n                          onChange={(e) => handleNewClientChange('name', e.target.value)}\r\n                          error={!newClient.name.trim()}\r\n                          helperText={!newClient.name.trim() ? \"Обязательное поле\" : \"\"}\r\n                        />\r\n                      </Grid>\r\n                      <Grid item xs={12} sm={6}>\r\n                        <TextField\r\n                          fullWidth\r\n                          label=\"Телефон *\"\r\n                          value={newClient.phone}\r\n                          onChange={(e) => handleNewClientChange('phone', e.target.value)}\r\n                          error={!newClient.phone.trim()}\r\n                          helperText={!newClient.phone.trim() ? \"Обязательное поле\" : \"\"}\r\n                        />\r\n                      </Grid>\r\n                      <Grid item xs={12} sm={6}>\r\n                        <TextField\r\n                          fullWidth\r\n                          label=\"Email\"\r\n                          type=\"email\"\r\n                          value={newClient.email}\r\n                          onChange={(e) => handleNewClientChange('email', e.target.value)}\r\n                        />\r\n                      </Grid>\r\n                      <Grid item xs={12} sm={6}>\r\n                        <TextField\r\n                          fullWidth\r\n                          label=\"Адрес\"\r\n                          value={newClient.address}\r\n                          onChange={(e) => handleNewClientChange('address', e.target.value)}\r\n                        />\r\n                      </Grid>\r\n                      <Grid item xs={12}>\r\n                        <Button\r\n                          variant=\"contained\"\r\n                          onClick={createNewClient}\r\n                          disabled={!newClient.name.trim() || !newClient.phone.trim()}\r\n                        >\r\n                          Создать клиента\r\n                        </Button>\r\n                      </Grid>\r\n                    </Grid>\r\n                  </CardContent>\r\n                </Card>\r\n              )}\r\n            </Grid>\r\n\r\n            {/* Выбор устройства */}\r\n            <Grid item xs={12}>\r\n              <Box sx={{ display: 'flex', alignItems: 'center', gap: 2, mb: 2 }}>\r\n                <FormControl fullWidth>\r\n                  <InputLabel>Устройство *</InputLabel>\r\n                  <Select\r\n                    value={formData.device_id}\r\n                    label=\"Устройство *\"\r\n                    onChange={(e) => handleFormChange('device_id', e.target.value)}\r\n                  >\r\n                    {devices.map(device => (\r\n                      <MenuItem key={device.id_device} value={device.id_device}>\r\n                        {device.Brand?.name} {device.model} ({device.DeviceType?.name})\r\n                      </MenuItem>\r\n                    ))}\r\n                  </Select>\r\n                </FormControl>\r\n                <Button\r\n                  variant=\"outlined\"\r\n                  onClick={() => setShowNewDevice(!showNewDevice)}\r\n                  startIcon={<AddIcon />}\r\n                >\r\n                  Новое устройство\r\n                </Button>\r\n              </Box>\r\n\r\n              {showNewDevice && (\r\n                <Card variant=\"outlined\" sx={{ mb: 2 }}>\r\n                  <CardContent>\r\n                    <Typography variant=\"h6\" gutterBottom>\r\n                      Новое устройство\r\n                    </Typography>\r\n                    <Grid container spacing={2}>\r\n                      <Grid item xs={12} sm={6}>\r\n                        <FormControl fullWidth>\r\n                          <InputLabel>Тип устройства *</InputLabel>\r\n                          <Select\r\n                            value={newDevice.id_type}\r\n                            label=\"Тип устройства *\"\r\n                            onChange={(e) => handleNewDeviceChange('id_type', e.target.value)}\r\n                          >\r\n                            {deviceTypes.map(type => (\r\n                              <MenuItem key={type.id_type} value={type.id_type}>\r\n                                {type.name}\r\n                              </MenuItem>\r\n                            ))}\r\n                          </Select>\r\n                        </FormControl>\r\n                      </Grid>\r\n                      <Grid item xs={12} sm={6}>\r\n                        <FormControl fullWidth>\r\n                          <InputLabel>Бренд *</InputLabel>\r\n                          <Select\r\n                            value={newDevice.id_brand}\r\n                            label=\"Бренд *\"\r\n                            onChange={(e) => handleNewDeviceChange('id_brand', e.target.value)}\r\n                          >\r\n                            {brands.map(brand => (\r\n                              <MenuItem key={brand.id_brand} value={brand.id_brand}>\r\n                                {brand.name}\r\n                              </MenuItem>\r\n                            ))}\r\n                          </Select>\r\n                        </FormControl>\r\n                      </Grid>\r\n                      <Grid item xs={12} sm={6}>\r\n                        <TextField\r\n                          fullWidth\r\n                          label=\"Модель *\"\r\n                          value={newDevice.model}\r\n                          onChange={(e) => handleNewDeviceChange('model', e.target.value)}\r\n                          error={!newDevice.model.trim()}\r\n                          helperText={!newDevice.model.trim() ? \"Обязательное поле\" : \"\"}\r\n                        />\r\n                      </Grid>\r\n                      <Grid item xs={12} sm={6}>\r\n                        <TextField\r\n                          fullWidth\r\n                          label=\"Серийный номер\"\r\n                          value={newDevice.serial_number}\r\n                          onChange={(e) => handleNewDeviceChange('serial_number', e.target.value)}\r\n                        />\r\n                      </Grid>\r\n                      <Grid item xs={12}>\r\n                        <Button\r\n                          variant=\"contained\"\r\n                          onClick={createNewDevice}\r\n                          disabled={!newDevice.id_type || !newDevice.id_brand || !newDevice.model.trim()}\r\n                        >\r\n                          Создать устройство\r\n                        </Button>\r\n                      </Grid>\r\n                    </Grid>\r\n                  </CardContent>\r\n                </Card>\r\n              )}\r\n            </Grid>\r\n\r\n            {/* Описание проблемы */}\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                fullWidth\r\n                multiline\r\n                rows={4}\r\n                label=\"Описание проблемы *\"\r\n                value={formData.problem_description}\r\n                onChange={(e) => handleFormChange('problem_description', e.target.value)}\r\n                error={!formData.problem_description.trim()}\r\n                helperText={!formData.problem_description.trim() ? \"Обязательное поле\" : \"\"}\r\n              />\r\n            </Grid>\r\n\r\n            {/* Выбор услуг */}\r\n            <Grid item xs={12}>\r\n              <Typography variant=\"h6\" gutterBottom>\r\n                Услуги\r\n              </Typography>\r\n              <Grid container spacing={2}>\r\n                {services.map(service => (\r\n                  <Grid item xs={12} sm={6} md={4} key={service.id_service}>\r\n                    <Card \r\n                      variant={formData.services.includes(service.id_service) ? \"elevated\" : \"outlined\"}\r\n                      sx={{ \r\n                        cursor: 'pointer',\r\n                        border: formData.services.includes(service.id_service) ? '2px solid' : '1px solid',\r\n                        borderColor: formData.services.includes(service.id_service) ? 'primary.main' : 'divider'\r\n                      }}\r\n                      onClick={() => handleServiceToggle(service.id_service)}\r\n                    >\r\n                      <CardContent>\r\n                        <Typography variant=\"subtitle1\" gutterBottom>\r\n                          {service.name}\r\n                        </Typography>\r\n                        <Typography variant=\"body2\" color=\"textSecondary\" gutterBottom>\r\n                          {service.description}\r\n                        </Typography>\r\n                        <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n                          <Typography variant=\"h6\" color=\"primary\">\r\n                            {service.price} ₽\r\n                          </Typography>\r\n                          <Chip \r\n                            label={formData.services.includes(service.id_service) ? \"Выбрано\" : \"Выбрать\"}\r\n                            color={formData.services.includes(service.id_service) ? \"primary\" : \"default\"}\r\n                            size=\"small\"\r\n                          />\r\n                        </Box>\r\n                      </CardContent>\r\n                    </Card>\r\n                  </Grid>\r\n                ))}\r\n              </Grid>\r\n            </Grid>\r\n\r\n            {/* Итоговая стоимость */}\r\n            {formData.services.length > 0 && (\r\n              <Grid item xs={12}>\r\n                <Card sx={{ bgcolor: 'primary.light', color: 'white' }}>\r\n                  <CardContent>\r\n                    <Typography variant=\"h6\" gutterBottom>\r\n                      Предварительная стоимость\r\n                    </Typography>\r\n                    <Typography variant=\"h4\">\r\n                      {getTotalPrice()} ₽\r\n                    </Typography>\r\n                    <Typography variant=\"body2\">\r\n                      Выбрано услуг: {formData.services.length}\r\n                    </Typography>\r\n                  </CardContent>\r\n                </Card>\r\n              </Grid>\r\n            )}\r\n\r\n            {/* Кнопки отправки */}\r\n            <Grid item xs={12}>\r\n              <Box sx={{ display: 'flex', gap: 2, justifyContent: 'flex-end' }}>\r\n                <Button\r\n                  variant=\"outlined\"\r\n                  onClick={() => navigate('/orders')}\r\n                >\r\n                  Отмена\r\n                </Button>\r\n                <Button\r\n                  type=\"submit\"\r\n                  variant=\"contained\"\r\n                  disabled={submitting}\r\n                  startIcon={submitting ? <CircularProgress size={20} /> : <SaveIcon />}\r\n                >\r\n                  {submitting ? 'Создание...' : 'Создать заказ'}\r\n                </Button>\r\n              </Box>\r\n            </Grid>\r\n          </Grid>\r\n        </Box>\r\n      </Paper>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default NewOrder;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}